import{M as nl,a as rl,P as Yl,Q as Tl,b as zl,c as Cl,d as Kl}from"./PropertyType.model.6b9d21d0.js";import{bV as Pe,c as $,h as N,bY as Qe,g as He,r as P,w as se,aI as te,bT as Vl,bO as $l,cc as Xl,bo as Jl,bU as Zl,d as M,i as ce,b$ as Ll,C as Ie,o as ae,aQ as V,ae as q,f as l,bj as r,F as z,al as X,O as S,bH as ee,af as u,cj as E,c0 as sl,ck as yl,b_ as et,X as Be,W as ne,U as Al,bl as je,ac as R,bM as lt,cl as kl,c1 as Dl,aS as tt,aW as _e,aF as at,cm as ot,cn as nt,aX as rt,ad as re,bG as st,bF as al,bf as it,aH as ut}from"./index.1ba8881a.js";import{V as dt,g as ct,a as pt,b as mt,c as ft,B as Oe,I as U,d as Ee,E as D,Q as Ye,e as H,u as vt}from"./index.1d984989.js";import{Q as Z}from"./QBadge.4c4fb1b5.js";import{u as Nl,_ as Te,l as Le,a as he,m as ol,y as bt,C as gt,L as xe,b as Fe,Q as Me,c as yt}from"./ClosePopup.f3d02cc6.js";import{b as j,Q as _l}from"./QCard.e7e1ea28.js";import{u as _t,a as ht,v as xl,b as wt,c as St,d as Pt,e as It,f as Tt,g as Ct,r as Bl,s as Vt,p as Ol,h as $t,i as ve,P as K,Q as le,j as At,k as el}from"./PropertySubscription.handler.4e11a38e.js";import{Q as xt}from"./QPage.96f7b476.js";import{g as Bt}from"./get-css-var.23548d6a.js";import{u as Rl,a as ql,b as Ot,d as Ml,c as El,Q as we,h as Se}from"./format.fdc3c721.js";import{Q as hl,u as Et,a as Lt,b as kt}from"./QCheckbox.a19345e0.js";import{c as F,i as ke}from"./utils.01331f21.js";import{api as Ul}from"./axios.104b9670.js";import{U as $e}from"./urlPaths.enum.6f8af417.js";import{r as ll}from"./default.request.cc5ecae0.js";import{u as Dt}from"./billing-store.8898cf6b.js";import{I as Nt}from"./IsEmail.d853ad20.js";import"./QResizeObserver.5a8639aa.js";import"./touch.3df10340.js";import"./QList.5e3d03ed.js";import"./storeforage.f2a38968.js";var Ue=Pe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const n=He(),t=$(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return N("td",{class:t.value},Qe(a.default));const o=n.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(i===void 0)return;const{row:d}=e.props;return N("td",{class:t.value+i.__tdClass(d),style:i.__tdStyle(d)},Qe(a.default))}}}),Ae=Pe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:a}){const n=$(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>N("tr",{class:n.value},Qe(a.default))}}),wl=Pe({name:"QTooltip",inheritAttrs:!1,props:{..._t,...Rl,...ht,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xl},self:{type:String,default:"top middle",validator:xl},offset:{type:Array,default:()=>[14,14],validator:wt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ql],setup(e,{slots:a,emit:n,attrs:t}){let o,i;const d=He(),{proxy:{$q:v}}=d,c=P(null),I=P(!1),A=$(()=>Ol(e.anchor,v.lang.rtl)),C=$(()=>Ol(e.self,v.lang.rtl)),O=$(()=>e.persistent!==!0),{registerTick:g,removeTick:x}=St(),{registerTimeout:y}=Ot(),{transitionProps:_,transitionStyle:b}=Pt(e),{localScrollTarget:k,changeScrollEvent:Q,unconfigureScrollTarget:B}=It(e,Je),{anchorEl:m,canShow:s,anchorEvents:p}=Tt({showing:I,configureAnchorEl:pl}),{show:T,hide:L}=Ml({showing:I,canShow:s,handleShow:ge,handleHide:De,hideOnRouteChange:O,processOnMount:!0});Object.assign(p,{delayShow:dl,delayHide:cl});const{showPortal:ue,hidePortal:W,renderPortal:oe}=Ct(d,c,fl,"tooltip");if(v.platform.is.mobile===!0){const Y={anchorEl:m,innerRef:c,onClickOutside(de){return L(de),de.target.classList.contains("q-dialog__backdrop")&&Zl(de),!0}},Re=$(()=>e.modelValue===null&&e.persistent!==!0&&I.value===!0);se(Re,de=>{(de===!0?$t:Bl)(Y)}),te(()=>{Bl(Y)})}function ge(Y){ue(),g(()=>{i=new MutationObserver(()=>ye()),i.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ye(),Je()}),o===void 0&&(o=se(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,ye)),y(()=>{ue(!0),n("show",Y)},e.transitionDuration)}function De(Y){x(),W(),Ne(),y(()=>{W(!0),n("hide",Y)},e.transitionDuration)}function Ne(){i!==void 0&&(i.disconnect(),i=void 0),o!==void 0&&(o(),o=void 0),B(),Vl(p,"tooltipTemp")}function ye(){Vt({targetEl:c.value,offset:e.offset,anchorEl:m.value,anchorOrigin:A.value,selfOrigin:C.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function dl(Y){if(v.platform.is.mobile===!0){El(),document.body.classList.add("non-selectable");const Re=m.value,de=["touchmove","touchcancel","touchend","click"].map(Ze=>[Re,Ze,"delayHide","passiveCapture"]);$l(p,"tooltipTemp",de)}y(()=>{T(Y)},e.delay)}function cl(Y){v.platform.is.mobile===!0&&(Vl(p,"tooltipTemp"),El(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{L(Y)},e.hideDelay)}function pl(){if(e.noParentEvent===!0||m.value===null)return;const Y=v.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];$l(p,"anchor",Y)}function Je(){if(m.value!==null||e.scrollTarget!==void 0){k.value=Xl(m.value,e.scrollTarget);const Y=e.noParentEvent===!0?ye:L;Q(k.value,Y)}}function ml(){return I.value===!0?N("div",{...t,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,b.value],role:"tooltip"},Qe(a.default)):null}function fl(){return N(Jl,_.value,ml)}return te(Ne),Object.assign(d.proxy,{updatePosition:ye}),oe}});function ze(e){return function(a,n){var t={type:dt.CONDITIONAL_VALIDATION,target:a.constructor,propertyName:n,constraints:[function(o,i){return o[n]!==null&&o[n]!==void 0}],validationOptions:e};ct().addValidationMetadata(new pt(t))}}var Rt="isBoolean";function qt(e){return e instanceof Boolean||typeof e=="boolean"}function Mt(e){return mt({name:Rt,validator:{validate:function(a,n){return qt(a)},defaultMessage:ft(function(a){return a+"$property must be a boolean value"},e)}},e)}var Ut=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,pe=(e,a,n,t)=>{for(var o=t>1?void 0:t?Gt(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&Ut(a,n,o),o};class ie extends Oe{id;propertyName;propertyUnit;expectedMonthlyCost;propertyTypeId;streetId;streetNumber;oldCode;propertySubscriberProfileId;isOwner=!1}pe([U({message:"Please, enter the property name"})],ie.prototype,"propertyName",2);pe([U({message:"Please, enter the property unit"})],ie.prototype,"propertyUnit",2);pe([ze()],ie.prototype,"expectedMonthlyCost",2);pe([U({message:"Please, select the property type"})],ie.prototype,"propertyTypeId",2);pe([U({message:"Please, select the street"})],ie.prototype,"streetId",2);pe([U({message:"Please, enter the street number"})],ie.prototype,"streetNumber",2);pe([ze()],ie.prototype,"oldCode",2);pe([U({message:"Please, select a custiodian"})],ie.prototype,"propertySubscriberProfileId",2);pe([Mt()],ie.prototype,"isOwner",2);const jt={class:"row justify-between"},Ft={class:"q-gutter-xl"},Wt={class:"q-gutter-xl"},Qt={style:{width:"20rem"}},Ht={class:"row justify-center q-mt-xl",style:{width:"100%"}},Yt=M({__name:"NewPropertySubscription",emits:["addSubscriber","addPropertyType","addStreet"],setup(e,{emit:a}){M({name:"new-property-subscription"});const n=a,t=ce("eventBus"),o={width:"35rem"},i={width:"30rem"},d=ve();K.handlePostSubscription(t,{onSuccess:k,onError:Q});const v=Nl();let c;const I=P(),A=P([]),C=P([]),{streets:O}=Ll(v),g=Ie(new ie),x=$(()=>A.value.map(m=>({label:m.firstName+" "+m.lastName,value:m.id}))),y=$(()=>C.value.map(m=>({label:`${m.name} - ${m.unitPrice}`,value:m.id}))),_=$(()=>{var m;return(m=O==null?void 0:O.value)==null?void 0:m.map(s=>({label:s.name,value:s.id}))});Ee(async()=>{g.validate()});async function b(){var m;if(g.validate(),!ke(g)){console.log("the following errors exist",g.errors),await((m=I.value)==null?void 0:m.validate());return}d.loading.show({message:"Submitting ..."}),t.emit(D.NEW_PROPERTY_SUBSCRIPTION,g),c=setTimeout(()=>{d.loading.hide()},Le)}function k(){g.clearValues(),F({loader:d.loading,timer:c})}function Q(){F({loader:d.loading,timer:c})}function B(m){n(m)}return se([()=>g.propertyTypeId,()=>g.propertyUnit],([m,s])=>{if(m&&s){const p=C.value.find(T=>T.id===m);return g.expectedMonthlyCost=String(Number(p==null?void 0:p.unitPrice)*s),g.expectedMonthlyCost}}),ae(async()=>{try{O!=null&&O.value||v.fetchServerData({type:"street"}),C.value=await K.getPropertyTypes(),A.value=await K.getSubscriberUsers()}catch(m){console.log(m)}}),te(()=>{t.off(D.NEW_PROPERTY_SUBSCRIPTION)}),(m,s)=>(V(),q(z,null,[l(j,{class:"text-center"},{default:r(()=>[l(Te,null,{default:r(()=>[X("New Property Subscription")]),_:1})]),_:1}),l(j,null,{default:r(()=>[l(S(Ye),{class:"q-pa-md",style:{height:"100%"},onSubmit:s[15]||(s[15]=ee(()=>{},["prevent"])),ref_key:"propertySubscriptionForm",ref:I},{default:r(()=>[u("div",jt,[u("div",Ft,[l(H,{style:i,label:"Property Name",type:"text",modelValue:g.propertyName,"onUpdate:modelValue":s[0]||(s[0]=p=>g.propertyName=p),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>m.$validateField(g,"propertyName")]},null,8,["modelValue","rules"]),l(H,{style:i,label:"Property Unit",type:"text",modelValue:g.propertyUnit,"onUpdate:modelValue":s[1]||(s[1]=p=>g.propertyUnit=p),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>m.$validateField(g,"propertyUnit")]},null,8,["modelValue","rules"]),l(H,{style:i,label:"Expected Monthly Cost",type:"text",modelValue:g.expectedMonthlyCost,"onUpdate:modelValue":s[2]||(s[2]=p=>g.expectedMonthlyCost=p),filled:"",outlined:"",color:"secondary","label-color":"dark"},{default:r(()=>[l(wl,null,{default:r(()=>[X("Expected Monthly Cost")]),_:1})]),_:1},8,["modelValue"]),l(H,{style:i,label:"Old Code",type:"text",modelValue:g.oldCode,"onUpdate:modelValue":s[3]||(s[3]=p=>g.oldCode=p),filled:"",outlined:"",color:"secondary","label-color":"dark"},null,8,["modelValue"])]),u("div",Wt,[u("div",{class:"row",style:o},[l(S(le),{style:{width:"70%"},label:"Street",filled:"",outlined:"",modelValue:g.streetId,"onUpdate:modelValue":s[6]||(s[6]=p=>g.streetId=p),color:"secondary","label-color":"dark",options:_.value,rules:[()=>m.$validateField(g,"streetId")],clearable:"","emit-value":"","map-options":""},{append:r(()=>[l(S(E),{round:"",flat:"",dense:"",icon:"add",onClick:s[4]||(s[4]=ee(p=>B("addStreet"),["prevent","stop"]))})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[l(S(E),{flat:"",dense:"",label:"Add Street",onClick:s[5]||(s[5]=p=>B("addStreet"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"]),l(H,{style:{width:"30%"},label:"Number",type:"text",modelValue:g.streetNumber,"onUpdate:modelValue":s[7]||(s[7]=p=>g.streetNumber=p),filled:"",outlined:"",color:"secondary","label-color":"dark"},{default:r(()=>[l(wl,null,{default:r(()=>[X("Street Number")]),_:1})]),_:1},8,["modelValue"])]),u("div",{style:o},[l(S(le),{style:{width:"100%"},label:"Property Type",filled:"",outlined:"",modelValue:g.propertyTypeId,"onUpdate:modelValue":s[10]||(s[10]=p=>g.propertyTypeId=p),color:"secondary","label-color":"dark",options:y.value,clearable:"",rules:[()=>m.$validateField(g,"propertyTypeId")],"emit-value":"","map-options":""},{append:r(()=>[l(S(E),{round:"",dense:"",flat:"",icon:"add",onClick:s[8]||(s[8]=ee(p=>B("addPropertyType"),["prevent","stop"]))})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[l(S(E),{dense:"",flat:"",label:"Add Property Type",onClick:s[9]||(s[9]=p=>B("addPropertyType"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),u("div",{style:o},[l(S(le),{style:{width:"100%"},label:"Custodian",filled:"",outlined:"",modelValue:g.propertySubscriberProfileId,"onUpdate:modelValue":s[13]||(s[13]=p=>g.propertySubscriberProfileId=p),color:"secondary","label-color":"dark",clearable:"",options:x.value,rules:[()=>m.$validateField(g,"propertySubscriberProfileId")],"emit-value":"","map-options":""},{append:r(()=>[l(S(E),{round:"",dense:"",flat:"",icon:"add",onClick:s[11]||(s[11]=ee(p=>B("addSubscriber"),["prevent","stop"]))})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[l(S(E),{dense:"",flat:"",label:"Add Subscriber",onClick:s[12]||(s[12]=p=>B("addSubscriber"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),u("div",Qt,[l(hl,{label:"Is Owner",modelValue:g.isOwner,"onUpdate:modelValue":s[14]||(s[14]=p=>g.isOwner=p),color:"primary"},null,8,["modelValue"])])])]),u("div",Ht,[l(S(E),{style:{width:"40%"},label:"Submit",rounded:"",color:"primary",type:"submit",onClick:ee(b,["prevent"])})])]),_:1},512)]),_:1})],64))}});var zt=Pe({name:"QToggle",props:{...Et,icon:String,iconColor:String},emits:Lt,setup(e){function a(n,t){const o=$(()=>(n.value===!0?e.checkedIcon:t.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=$(()=>n.value===!0?e.iconColor:null);return()=>[N("div",{class:"q-toggle__track"}),N("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},o.value!==void 0?[N(sl,{name:o.value,color:i.value})]:void 0)]}return kt("toggle",a)}}),Kt=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,il=(e,a,n,t)=>{for(var o=t>1?void 0:t?Xt(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&Kt(a,n,o),o};class Ke extends Oe{streetId;propertySuscriptionId;month;year;type;forAllProperties;forPropertiesOnStreet}il([ze()],Ke.prototype,"streetId",2);il([U({message:"Please, select the property subscsription"})],Ke.prototype,"propertySuscriptionId",2);il([U({message:"Please, select the month"})],Ke.prototype,"month",2);il([U({message:"Please, select the year"})],Ke.prototype,"year",2);async function Jt(e){const a=await Ul.post($e.BILLING,e);if(a.status===201)return a.data;throw new Error("Attempt to generate billing failed",{cause:a.data})}async function Zt(e){const a=await Ul.get($e.BILLING,{params:e});if(a.status===200)return a.data;throw new Error("Could not fetch billings")}class ea{static async handGenerateBilling(a,{onSuccess:n,onError:t}={}){a.on(D.GENERATE_BILLING,async o=>{try{await Jt(o),n==null||n(),yl.create({message:"Process was successful",color:"positive"})}catch(i){t==null||t(),yl.create({message:i.message,color:"negative",icon:"warning",timeout:5e3})}})}static async getBilling(a){try{return await Zt(a)}catch(n){yl.create({message:n.message,color:"negative",icon:"warning",timeout:5e3})}}}class Ge{static async getBillingAccountArrears(a){try{const n=a.limit,t=a.page;return await ll($e.BILLING_ACCOUNT_ARREARS,"get",{params:{limit:n,page:t,month:a.month}})}catch{he({type:"negative"})}}static async handleViewBillingDetails(a,{onSuccess:n,onError:t}={}){a.on(D.VIEW_BILLING_DETAILS,async({streetId:o,billingMonth:i})=>{try{const d=await ll($e.BILLING_ACCOUNT_DETAILS.replace(":streetId",o),"get",{params:{billingMonth:i}});n==null||n(d)}catch(d){t==null||t(d),he({type:"negative"})}})}static async handleGetDefaulters(a,{onSuccess:n,onError:t}={}){a.on(D.GET_DEFAULTERS,async({streetId:o})=>{try{const i=await ll($e.BILLING_ACCOUNT_DEFAULTER.replace(":streetId",o),"get");n==null||n(i)}catch(i){t==null||t(i),he({type:"negative"})}})}static async getBillingsForPrinting(a,n){const t=await ll($e.BILLING_ACCOUNT_DETAILS.replace(":streetId",a),"get",{params:{billingMonth:n}});return Dt().updateBilling({type:"billingDetail",data:t}),t}}const la={class:"row justify-between q-my-lg"},ta={class:"q-gutter-xl",style:{width:"40%"}},aa={class:"q-gutter-xl",style:{width:"50%"}},oa={class:"row justify-between q-mt-md",style:{height:"7rem"}},na={class:"column"},ra={class:"column justify-end",style:{height:"100%"}},sa=M({__name:"GenerateBill",setup(e){M({name:"generate-bill"});const a=Nl(),n=ol[new Date().getMonth()+1],t=ce("eventBus"),o=ve(),i=et();let d;ea.handGenerateBilling(t,{onSuccess:Q,onError:B});const v=P("generate"),{streets:c}=Ll(a),I=P(),A=P(),C=$(()=>v.value==="print"?"Print Bill":"Generate Bill"),O=$(()=>bt),g=$(()=>Object.values(ol).map(m=>m)),x=$(()=>v.value==="print"?"Print":"Generate"),y=$(()=>{var m;return(m=c==null?void 0:c.value)==null?void 0:m.map(s=>({label:s.name,value:s.id}))}),_=$(()=>{var m;return(m=I.value)==null?void 0:m.map(s=>({label:s.propertySubscriptionName,value:s.propertySubscriptionId}))}),b=Ie(new Ke);async function k(){if(o.loading.show({message:"Please, wait ..."}),b.type==="print"){await Ge.getBillingsForPrinting(b.streetId,b.month),i.push("/print");return}else t.emit(D.GENERATE_BILLING,b);d=setTimeout(()=>{o.loading.show()},Le)}function Q(){b.clearValues(),F({loader:o.loading,timer:d})}function B(){F({loader:o.loading,timer:d})}return se(v,m=>{m&&(b.type=m)}),se(()=>b.forAllProperties,m=>{m&&(b.forPropertiesOnStreet=!1)}),se(()=>b.streetId,async m=>{if(console.log("this is the new val from watch on streetId",m),m){b.propertySuscriptionId="";const s=await K.getSubscriptions({streetId:m});I.value=s==null?void 0:s.data}}),ae(()=>{b.month=n,b.year=String(new Date().getFullYear()),b.type=v.value}),ae(async()=>{c!=null&&c.value||await a.fetchServerData({type:"street"})}),ae(async()=>{const m=await K.getSubscriptions();I.value=m==null?void 0:m.data}),te(()=>{F({loader:o.loading,timer:d})}),(m,s)=>(V(),q(z,null,[l(j,{class:"row justify-between"},{default:r(()=>[u("div",{style:ne({color:`${m.$getColor("primary")}`})},[l(Te,{"header-text-size":"h5"},{default:r(()=>[X(Be(C.value),1)]),_:1})],4),u("div",null,[u("span",{class:Al([v.value==="print"?"text-primary":""])},"Print Bill",2),l(zt,{"toggle-indeterminate":!1,"toggle-order":"tf","true-value":"generate","false-value":"print",modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=p=>v.value=p),"keep-color":""},null,8,["modelValue"]),u("span",{class:Al([v.value!=="print"?"text-primary":""])},"Generate Bill",2)])]),_:1}),l(j,null,{default:r(()=>[u("form",{class:"q-pa-md",style:{height:"100%"},onSubmit:s[7]||(s[7]=ee(()=>{},["prevent"])),ref_key:"billingModelForm",ref:A},[u("div",la,[u("div",ta,[l(le,{label:"Street",modelValue:b.streetId,"onUpdate:modelValue":s[1]||(s[1]=p=>b.streetId=p),filled:"",outlined:"",color:"secondary","label-color":"dark",options:y.value,"emit-value":"","map-options":""},null,8,["modelValue","options"]),l(le,{modelValue:b.month,"onUpdate:modelValue":s[2]||(s[2]=p=>b.month=p),label:"Month",type:"text",filled:"",outlined:"",color:"secondary","label-color":"dark",options:g.value},null,8,["modelValue","options"])]),u("div",aa,[l(le,{modelValue:b.propertySuscriptionId,"onUpdate:modelValue":s[3]||(s[3]=p=>b.propertySuscriptionId=p),label:"Property Subscription Id",type:"text",filled:"",outlined:"",color:"secondary","label-color":"dark",options:_.value,"emit-value":"","map-options":""},null,8,["modelValue","options"]),l(le,{modelValue:b.year,"onUpdate:modelValue":s[4]||(s[4]=p=>b.year=p),label:"Year",type:"text",filled:"",outlined:"",options:O.value,color:"secondary","label-color":"dark","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),u("div",oa,[u("div",na,[l(hl,{label:`${x.value} for properties on street.`,modelValue:b.forPropertiesOnStreet,"onUpdate:modelValue":s[5]||(s[5]=p=>b.forPropertiesOnStreet=p),disable:b.forAllProperties},null,8,["label","modelValue","disable"]),l(hl,{label:`${x.value} all bills.`,modelValue:b.forAllProperties,"onUpdate:modelValue":s[6]||(s[6]=p=>b.forAllProperties=p)},null,8,["label","modelValue"])]),u("div",ra,[l(E,{rounded:"",color:"primary",onClick:k},{default:r(()=>[X(Be(v.value==="print"?"Print":"Generate"),1)]),_:1})])])],544)]),_:1})],64))}});var ia=Object.defineProperty,ua=Object.getOwnPropertyDescriptor,Ce=(e,a,n,t)=>{for(var o=t>1?void 0:t?ua(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&ia(a,n,o),o};class be extends Oe{id;firstName;lastName;email;oldCode;phone;phoneCodeId;password}Ce([U({message:"First name is required"}),nl(2,{message:"First name must be at least 2 characters"}),rl(50,{message:"First name must be less than 50 characters"})],be.prototype,"firstName",2);Ce([U({message:"Last name is required"})],be.prototype,"lastName",2);Ce([U({message:"Email is required"}),Nt({},{message:"Email is invalid"})],be.prototype,"email",2);Ce([ze()],be.prototype,"oldCode",2);Ce([U({message:"Phone number is required"})],be.prototype,"phone",2);Ce([U({message:"Phone code is required"})],be.prototype,"phoneCodeId",2);Ce([ze()],be.prototype,"password",2);const Xe=M({__name:"ModalPopupClose",setup(e){return M({name:"modal-popup-close"}),(a,n)=>je((V(),R(E,{round:"",dense:"",icon:"close"},null,512)),[[gt]])}}),da={class:"row justify-between q-py-sm"},ca={class:"row justify-between"},pa={class:"q-gutter-xl"},ma={class:"q-gutter-xl"},fa={class:"flex row"},va={class:"flex row justify-center"},ba=M({__name:"AddSubscriber",setup(e){var g,x;M({name:"add-subscriber"});const a=ce("eventBus"),n=ve(),t=P(),o=P();(g=t.value)==null||g.focus(),(x=o.value)==null||x.focus();const i=P([]),d=P();K.handlePostSubscriberUser(a,{onSuccess:C,onError:O});let v;const c=Ie(new be);Ee(async()=>{await c.validate()});const I=$(()=>{var y;return(y=i.value)==null?void 0:y.map(_=>({label:_.name,value:_.id}))});function A(){var y;if(!ke(c)){(y=d.value)==null||y.validate();return}a.emit(D.POST_SUBSCRIBER,c),n.loading.show({message:"Submitting ..."}),v=setTimeout(()=>{n.loading.hide()},Le)}function C(){c.clearValues(),F({loader:n.loading,timer:v})}function O(){F({loader:n.loading,timer:v})}return ae(async()=>{var y,_;console.log((y=o.value)==null?void 0:y.focus),(_=t.value)==null||_.focus(),i.value=await K.getPhoneCodes()}),te(()=>{F({loader:n.loading,timer:v}),a.off(D.POST_SUBSCRIBER)}),(y,_)=>(V(),q(z,null,[l(j,{class:"q-px-md"},{default:r(()=>[u("div",da,[l(Te,null,{default:r(()=>[X(" Add Subscriber ")]),_:1}),u("div",null,[l(Xe)])])]),_:1}),l(j,{class:"q-px-md"},{default:r(()=>[l(S(Ye),{onSubmit:_[6]||(_[6]=ee(()=>{},["prevent"])),ref_key:"subscriberForm",ref:d},{default:r(()=>[u("div",ca,[u("div",pa,[l(S(H),{label:"First Name",filled:"",outlined:"",modelValue:c.firstName,"onUpdate:modelValue":_[0]||(_[0]=b=>c.firstName=b),"lazy-rules":"",rules:[()=>y.$validateField(c,"firstName")],ref_key:"inputRef",ref:o},null,8,["modelValue","rules"]),l(S(H),{label:"Email",filled:"",outlined:"",modelValue:c.email,"onUpdate:modelValue":_[1]||(_[1]=b=>c.email=b),"lazy-rules":"",rules:[()=>y.$validateField(c,"email")]},null,8,["modelValue","rules"]),l(S(H),{label:"Old Code",filled:"",outlined:"",modelValue:c.oldCode,"onUpdate:modelValue":_[2]||(_[2]=b=>c.oldCode=b),"lazy-rules":"",rules:[()=>y.$validateField(c,"oldCode")]},null,8,["modelValue","rules"])]),u("div",ma,[l(S(H),{label:"Last Name",filled:"",outlined:"",modelValue:c.lastName,"onUpdate:modelValue":_[3]||(_[3]=b=>c.lastName=b),"lazy-rules":"",rules:[()=>y.$validateField(c,"lastName")]},null,8,["modelValue","rules"]),u("div",fa,[l(le,{label:"Country Phone Code",filled:"",outlined:"","label-color":"dark",modelValue:c.phoneCodeId,"onUpdate:modelValue":_[4]||(_[4]=b=>c.phoneCodeId=b),options:I.value,"emit-value":"","map-options":"",clearable:""},null,8,["modelValue","options"]),l(S(H),{label:"Phone",filled:"",outlined:"",modelValue:c.phone,"onUpdate:modelValue":_[5]||(_[5]=b=>c.phone=b),"lazy-rules":"",rules:[()=>y.$validateField(c,"phone")]},null,8,["modelValue","rules"])])])]),u("div",va,[l(E,{style:{width:"40%"},label:"Submit",rounded:"",color:"primary",type:"submit",onClick:A})])]),_:1},512)]),_:1})],64))}});var ga=Object.defineProperty,ya=Object.getOwnPropertyDescriptor,Pl=(e,a,n,t)=>{for(var o=t>1?void 0:t?ya(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&ga(a,n,o),o};class ul extends Oe{id;name;lgaId;lgaWardId}Pl([U({message:"Street name is required"}),nl(2,{message:"Street name cannot be less than 2 characters"}),rl(50,{message:"Street name cannot be more than 255 characters"})],ul.prototype,"name",2);Pl([U({message:"Select an Lga"})],ul.prototype,"lgaId",2);Pl([U({message:"Select an Lga ward"})],ul.prototype,"lgaWardId",2);const _a={class:"flex row justify-between"},ha={class:"q-gutter-xl"},wa={class:"flex row justify-center q-mt-lg"},Sa=M({__name:"AddStreet",emits:["addLga","addLgaWard"],setup(e){M({name:"add-street"});const a=P([]),n=P([]),t=ce("eventBus"),o=ve(),i=P(),d=P(!1);let v;const c=Ie(new ul);xe.handlePostStreet(t,{onSuccess:O,onError:g});const I=$(()=>a.value.map(y=>({label:y.name,value:y.id}))),A=$(()=>n.value.map(y=>({label:y.name,value:y.id})));Ee(async()=>{await c.validate()});function C(){var y;if(!d.value){if(!ke(c)){(y=i.value)==null||y.validate();return}d.value=!0,o.loading.show({message:"Submitting ..."}),t.emit(D.POST_STREET,c),v=setTimeout(()=>{o.loading.hide()},Le)}}function O(){c.clearValues(),F({loader:o.loading,timer:v})}function g(){F({loader:o.loading,timer:v})}function x(y){t.emit(y)}return se(()=>c.lgaId,async y=>{n.value=await xe.getLgaWards({lgaId:y})}),ae(async()=>{a.value=await xe.getLgas()}),te(()=>{F({loader:o.loading,timer:v})}),te(()=>{t.off(D.POST_STREET)}),(y,_)=>(V(),q(z,null,[l(j,null,{default:r(()=>[u("div",_a,[l(Te,null,{default:r(()=>[X("Add Street")]),_:1}),l(Xe)])]),_:1}),l(j,null,{default:r(()=>[l(S(Ye),{class:"q-px-lg",onSubmit:_[7]||(_[7]=ee(()=>{},["prevent"])),ref_key:"addStreetForm",ref:i},{default:r(()=>[u("div",ha,[l(H,{label:"Street Name",type:"text",modelValue:c.name,"onUpdate:modelValue":_[0]||(_[0]=b=>c.name=b),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>y.$validateField(c,"name")]},null,8,["modelValue","rules"]),l(le,{label:"Lga",filled:"",outlined:"",color:"secondary","label-color":"dark",options:I.value,rules:[()=>y.$validateField(c,"lgaId")],modelValue:c.lgaId,"onUpdate:modelValue":_[3]||(_[3]=b=>c.lgaId=b),"emit-value":"","map-options":"",clearable:""},{append:r(()=>[l(E,{round:"",flat:"",dense:"",icon:"add",onClick:_[1]||(_[1]=ee(b=>x(S(D).TRIGGER_REMOTE_MODAL_LGA),["prevent","stop"]))})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[l(E,{label:"Add LGA",dense:"",flat:"",onClick:_[2]||(_[2]=b=>x(S(D).TRIGGER_REMOTE_MODAL_LGA))})]),_:1})]),_:1})]),_:1},8,["options","rules","modelValue"]),l(le,{label:"LGA Ward",filled:"",outlined:"",color:"secondary","label-color":"dark",options:A.value,rules:[()=>y.$validateField(c,"lgaWardId")],modelValue:c.lgaWardId,"onUpdate:modelValue":_[6]||(_[6]=b=>c.lgaWardId=b),"emit-value":"","map-options":"",clearable:""},{append:r(()=>[l(E,{round:"",flat:"",dense:"",icon:"add",onClick:_[4]||(_[4]=ee(b=>x(S(D).TRIGGER_REMOTE_MODAL_LGA_WARD),["prevent","stop"]))})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[l(E,{label:"Add LGA Ward",flat:"",dense:"",onClick:_[5]||(_[5]=b=>x(S(D).TRIGGER_REMOTE_MODAL_LGA_WARD))})]),_:1})]),_:1})]),_:1},8,["options","rules","modelValue"])]),u("div",wa,[l(E,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:C})])]),_:1},512)]),_:1})],64))}}),Pa={class:"flex row justify-between"},Ia={class:"q-gutter-md"},Ta={class:"flex row justify-center"},Ca=M({__name:"AddPropertyType",setup(e){const a=P(),n=ce("eventBus"),t=ve();let o;const i=Ie(new Yl);Ee(async()=>{await i.validate()});function d(){var I;ke(i)||(I=a.value)==null||I.validate(),t.loading.show({message:"Submitting ..."}),n.emit(D.POST_PROPERTY_TYPE,i),o=setTimeout(()=>{t.loading.hide()},2e3)}function v(){i.clearValues(),F({loader:t.loading,timer:o})}function c(){F({loader:t.loading,timer:o})}return ae(()=>{K.handlePostPropertyType(n,{onSuccess:v,onError:c})}),te(()=>{n.off(D.POST_PROPERTY_TYPE)}),(I,A)=>(V(),q(z,null,[l(j,null,{default:r(()=>[u("div",Pa,[l(Te,null,{default:r(()=>[X("Add Property Type")]),_:1}),l(Xe)])]),_:1}),l(j,null,{default:r(()=>[l(S(Ye),{class:"q-px-",onSubmit:A[2]||(A[2]=ee(()=>{},["prevent"]))},{default:r(()=>[u("div",Ia,[l(H,{label:"Name",type:"text",modelValue:i.name,"onUpdate:modelValue":A[0]||(A[0]=C=>i.name=C),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>I.$validateField(i,"name")]},null,8,["modelValue","rules"]),l(H,{label:"Unit Price",type:"number",modelValue:i.unitPrice,"onUpdate:modelValue":A[1]||(A[1]=C=>i.unitPrice=C),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>I.$validateField(i,"unitPrice")]},null,8,["modelValue","rules"])]),u("div",Ta,[l(E,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:ee(d,["prevent"])})])]),_:1})]),_:1})],64))}});var Va=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,Aa=(e,a,n,t)=>{for(var o=t>1?void 0:t?$a(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&Va(a,n,o),o};class Gl extends Oe{id;name}Aa([U({message:"LGA name is required"}),nl(2,{message:"LGA name must be at least 2 characters"}),rl(50,{message:"LGA name must be less than 50 characters"})],Gl.prototype,"name",2);const xa={class:"flex row justify-between"},Ba={class:"flex row justify-center q-mt-lg"},Oa=M({__name:"AddLga",setup(e){M({name:"add-lga"});const a=ce("eventBus"),n=ve();let t;const o=Ie(new Gl);xe.handlePostLga(a,{onSuccess:d,onError:v}),Ee(async()=>{o.validate()});function i(){!ke(o)||(n.loading.show({message:"Submitting ..."}),a.emit(D.POST_LGA,o),t=setTimeout(()=>{n.loading.hide()},Le))}function d(){o.clearValues(),F({loader:n.loading,timer:t})}function v(){F({loader:n.loading,timer:t})}return te(()=>{F({loader:n.loading,timer:t})}),te(()=>{a.off(D.POST_LGA)}),(c,I)=>(V(),q(z,null,[l(j,null,{default:r(()=>[u("div",xa,[l(Te,null,{default:r(()=>[X("Add L.G.A.")]),_:1}),l(Xe)])]),_:1}),l(j,null,{default:r(()=>[u("form",null,[u("div",null,[l(H,{label:"Name",filled:"",outlined:"","label-color":"dark",modelValue:o.name,"onUpdate:modelValue":I[0]||(I[0]=A=>o.name=A),rules:[()=>c.$validateField(o,"name")]},null,8,["modelValue","rules"])]),u("div",Ba,[l(E,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:ee(i,["prevent"])})])])]),_:1})],64))}});var Ea=Object.defineProperty,La=Object.getOwnPropertyDescriptor,jl=(e,a,n,t)=>{for(var o=t>1?void 0:t?La(a,n):a,i=e.length-1,d;i>=0;i--)(d=e[i])&&(o=(t?d(a,n,o):d(o))||o);return t&&o&&Ea(a,n,o),o};class Il extends Oe{id;name;lgaId}jl([U({message:"LGA ward name is required"}),nl(2,{message:"LGA ward name must be at least 2 characters"}),rl(50,{message:"LGA ward name must be less than 50 characters"})],Il.prototype,"name",2);jl([U({message:"Select an LGA"})],Il.prototype,"lgaId",2);const ka={class:"flex row justify-between"},Da={class:"flex row justify-center q-mt-lg"},Na=M({__name:"AddLgaWard",setup(e){M({name:"add-lga-ward"});const a=P([]),n=P(),t=ce("eventBus"),o=ve();let i;const d=Ie(new Il);xe.handlePostLgaWard(t,{onSuccess:I,onError:A}),Ee(async()=>{console.log("this is the lgaWardId: ",d.lgaId),d.validate()});const v=$(()=>a.value.map(C=>({label:C.name,value:C.id})));function c(){if(!ke(d)){d.validate();return}o.loading.show({message:"Submitting ..."}),t.emit(D.POST_LGA_WARD,d),i=setTimeout(()=>{o.loading.hide()},Le)}function I(){d.clearValues(),F({loader:o.loading,timer:i})}function A(){F({loader:o.loading,timer:i})}return ae(async()=>{a.value=await xe.getLgas()}),te(()=>{F({loader:o.loading,timer:i})}),(C,O)=>(V(),q(z,null,[l(j,null,{default:r(()=>[u("div",ka,[l(Te,null,{default:r(()=>[X("Add L.G.A. Ward")]),_:1}),l(Xe)])]),_:1}),l(j,null,{default:r(()=>[l(S(Ye),{ref_key:"lgaWardForm",ref:n},{default:r(()=>[u("div",null,[l(H,{label:"Name",filled:"",outlined:"","label-color":"dark",modelValue:d.name,"onUpdate:modelValue":O[0]||(O[0]=g=>d.name=g),rules:[()=>C.$validateField(d,"name")]},null,8,["modelValue","rules"]),l(le,{label:"Select L.G.A.",filled:"",outlined:"","label-color":"dark",modelValue:d.lgaId,"onUpdate:modelValue":O[1]||(O[1]=g=>d.lgaId=g),options:v.value,rules:[()=>C.$validateField(d,"lgaId")],"emit-value":"","map-options":"",clearable:""},{append:r(()=>[l(E,{flat:"",round:"",dense:"",icon:"add"})]),"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,null,{default:r(()=>[l(E,{label:"Create L.G.A.",flat:"",dense:""})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),u("div",Da,[l(E,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:ee(c,["prevent"])})])]),_:1},512)]),_:1})],64))}});var J=(e=>(e.PROPERTIES="Properties",e.BILLINGS="Billings",e))(J||{}),fe=(e=>(e[e.ADD_SUBSCRIBER=0]="ADD_SUBSCRIBER",e[e.ADD_STREET=1]="ADD_STREET",e[e.ADD_PROPERTY_TYPE=2]="ADD_PROPERTY_TYPE",e))(fe||{}),Ve=(e=>(e[e.ADD_LGA=0]="ADD_LGA",e[e.ADD_LGA_WARD=1]="ADD_LGA_WARD",e))(Ve||{});const Ra=["top","right","bottom","left"],Fl={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Ra.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Wl(e,a){return{formClass:$(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:$(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:$(()=>{if(e.externalLabel===!0){const n=e.hideLabel===null?a.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(n===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Ql={start:"self-end",center:"self-center",end:"self-start"},qa=Object.keys(Ql);var Ma=Pe({name:"QFabAction",props:{...Fl,icon:{type:String,default:""},anchor:{type:String,validator:e=>qa.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:a,emit:n}){const t=ce(kl,()=>({showing:{value:!0},onChildClick:lt})),{formClass:o,labelProps:i}=Wl(e,t.showing),d=$(()=>{const C=Ql[e.anchor];return o.value+(C!==void 0?` ${C}`:"")}),v=$(()=>e.disable===!0||t.showing.value!==!0);function c(C){t.onChildClick(C),n("click",C)}function I(){const C=[];return a.icon!==void 0?C.push(a.icon()):e.icon!==""&&C.push(N(sl,{name:e.icon})),(e.label!==""||a.label!==void 0)&&C[i.value.action](N("div",i.value.data,a.label!==void 0?a.label():[e.label])),Dl(a.default,C)}const A=He();return Object.assign(A.proxy,{click:c}),()=>N(E,{class:d.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:c},I)}});const Ua=["up","right","down","left"],Ga=["left","center","right"];var ja=Pe({name:"QFab",props:{...Fl,...Rl,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>Ua.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Ga.includes(e)}},emits:ql,setup(e,{slots:a}){const n=P(null),t=P(e.modelValue===!0),o=vt(),{proxy:{$q:i}}=He(),{formClass:d,labelProps:v}=Wl(e,t),c=$(()=>e.persistent!==!0),{hide:I,toggle:A}=Ml({showing:t,hideOnRouteChange:c}),C=$(()=>({opened:t.value})),O=$(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${d.value}`+(t.value===!0?" q-fab--opened":" q-fab--closed")),g=$(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${t.value===!0?"opened":"closed"}`),x=$(()=>{const k={id:o,role:"menu"};return t.value!==!0&&(k["aria-hidden"]="true"),k}),y=$(()=>`q-fab__icon-holder  q-fab__icon-holder--${t.value===!0?"opened":"closed"}`);function _(k,Q){const B=a[k],m=`q-fab__${k} absolute-full`;return B===void 0?N(sl,{class:m,name:e[Q]||i.iconSet.fab[Q]}):N("div",{class:m},B(C.value))}function b(){const k=[];return e.hideIcon!==!0&&k.push(N("div",{class:y.value},[_("icon","icon"),_("active-icon","activeIcon")])),(e.label!==""||a.label!==void 0)&&k[v.value.action](N("div",v.value.data,a.label!==void 0?a.label(C.value):[e.label])),Dl(a.tooltip,k)}return tt(kl,{showing:t,onChildClick(k){I(k),n.value!==null&&n.value.$el.focus()}}),()=>N("div",{class:O.value},[N(E,{ref:n,class:d.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o,onClick:A},b),N("div",{class:g.value,...x.value},Qe(a.default))])}});const Sl=M({__name:"AdvanceTableMenu",props:{menuItems:{default:()=>[]},padding:{default:"xs"}},emits:["menuItemClickHandler"],setup(e){return M({name:"advance-table-menu"}),(a,n)=>(V(),R(ja,{color:"transparent","text-color":"black",icon:"keyboard_arrow_left",direction:"left",padding:"xs",margin:"xs"},{default:r(()=>[(V(!0),q(z,null,_e(a.menuItems,t=>(V(),R(Ma,{key:t.label,icon:t.icon,color:t.color,"text-color":t.textColor,padding:"xs",onClick:o=>a.$emit("menuItemClickHandler",t)},{default:r(()=>[l(wl,null,{default:r(()=>[X(Be(t.label),1)]),_:2},1024)]),_:2},1032,["icon","color","text-color","onClick"]))),128))]),_:1}))}});function We(e,a=new WeakMap){if(Object(e)!==e)return e;if(a.has(e))return a.get(e);const n=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const t=e.valueOf();if(Object(t)!==t){const o=new e.constructor(t);return a.set(e,o),o}}return a.set(e,n),e instanceof Set?e.forEach(t=>{n.add(We(t,a))}):e instanceof Map&&e.forEach((t,o)=>{n.set(o,We(t,a))}),Object.assign(n,...Object.keys(e).map(t=>({[t]:We(e[t],a)})))}var Fa=Pe({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:n}){const{proxy:t}=He(),{$q:o}=t,i=P(null),d=P(""),v=P("");let c=!1;const I=$(()=>nt({initialValue:d.value,validate:e.validate,set:A,cancel:C,updatePosition:O},"value",()=>v.value,B=>{v.value=B}));function A(){e.validate(v.value)!==!1&&(g()===!0&&(n("save",v.value,d.value),n("update:modelValue",v.value)),x())}function C(){g()===!0&&n("cancel",v.value,d.value),x()}function O(){at(()=>{i.value.updatePosition()})}function g(){return ot(v.value,d.value)===!1}function x(){c=!0,i.value.hide()}function y(){c=!1,d.value=We(e.modelValue),v.value=We(e.modelValue),n("beforeShow")}function _(){n("show")}function b(){c===!1&&g()===!0&&(e.autoSave===!0&&e.validate(v.value)===!0?(n("save",v.value,d.value),n("update:modelValue",v.value)):n("cancel",v.value,d.value)),n("beforeHide")}function k(){n("hide")}function Q(){const B=a.default!==void 0?[].concat(a.default(I.value)):[];return e.title&&B.unshift(N("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&B.push(N("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[N(E,{flat:!0,color:e.color,label:e.labelCancel||o.lang.label.cancel,onClick:C}),N(E,{flat:!0,color:e.color,label:e.labelSet||o.lang.label.set,onClick:A})])),B}return Object.assign(t,{set:A,cancel:C,show(B){i.value!==null&&i.value.show(B)},hide(B){i.value!==null&&i.value.hide(B)},updatePosition:O}),()=>{if(e.disable!==!0)return N(At,{ref:i,class:"q-popup-edit",cover:e.cover,onBeforeShow:y,onShow:_,onBeforeHide:b,onHide:k,onEscapeKey:C},Q)}}});const qe=M({__name:"BorderedCard",props:{bgColor:{default:"secondary"},borderColor:{default:"primary"},borderStyle:{default:"solid"},borderWidth:{default:"0.1rem"},height:{default:"100%"}},setup(e){return M({name:"bordered-card"}),(a,n)=>(V(),R(_l,{style:ne({borderColor:`${a.$getColor(a.borderColor)}`,borderStyle:`${a.borderStyle}`,borderWidth:`${a.borderWidth}`,backgroundColor:`${a.$getColor(a.bgColor)}`,height:a.height})},{default:r(()=>[l(j,null,{default:r(()=>[rt(a.$slots,"default")]),_:3})]),_:3},8,["style"]))}});const Wa={class:"flex row justify-between q-mb-sm",style:{width:"100%",height:"12rem"}},Qa={style:{width:"49.5%"}},Ha=u("div",{class:"text-center text-bolder text-h6"},[u("span",null,"Property")],-1),Ya={class:"q-my-lg"},za=u("span",null,"Id",-1),Ka={class:"q-my-lg"},Xa=u("span",null,"Name",-1),Ja={style:{width:"49.5%"}},Za=u("div",{class:"text-center text-bolder text-h6"},[u("span",null,"Transaction")],-1),eo=u("span",null,"Arrears",-1),lo=u("span",null,"Last Payment",-1),to=u("span",null,"Date of Payment",-1),ao={style:{width:"100%",height:"8rem"}},oo=u("div",null,[u("p",null,[u("span",null,"Street")])],-1),no={class:"flex row justify-evenly"},ro=u("span",null,"Number",-1),so=u("span",null,"Name",-1),io={style:{width:"100%",height:"8rem"}},uo=u("div",null,[u("p",null,[u("span",null,"Custodian")])],-1),co={class:"flex row justify-evenly q-mt-md"},po=u("span",null,"Name",-1),mo=u("span",null,"Email",-1),fo=u("span",null,"Phone",-1),vo={style:{width:"100%",height:"auto"}},bo={class:"flex row text-bolder text-h6 flex items-center"},go=u("div",{class:"flex row justify-end",style:{width:"50%"}},[u("span",null,"Billing Details")],-1),yo={class:"flex row justify-end q-gutter-sm q-mb-sm",style:{width:"50%"}},_o={key:0},ho={key:1},wo={key:2},So=u("div",null,null,-1),Po=M({__name:"ViewPropertyDetails",props:{dialogWidth:{default:30},propertySubscriptionId:{}},setup(e){const a=e;M({name:"view-property-details",components:{DialogCard:Fe}});const n=[{label:"Remove Row",icon:"remove",textColor:"black"}],t=[{field:"propertyTypeId",label:"Property Type Id",name:"propertyTypeId"},{field:"propertyType",label:"Property Type",name:"propertyType"},{field:"propertyUnit",label:"Property Units",name:"propertyUnit"},{field:"unitPrice",label:"Unit Price",name:"unitPrice"}],o=["propertyType","propertyUnit","unitPrice"],i=P([{propertyTypeId:"1",propertyType:"House",propertyUnit:"5",unitPrice:"N5000"}]),d=P([]),v=P(!1),c=P({}),I=P(-1),A=P(!1),C=$(()=>d.value.map(s=>({label:`${s.name} - ${s.unitPrice}`,value:s.id}))),O=$(()=>{if(c.value.billingAccount){const s=Number(S(c.value).billingAccount.totalBillings)-Number(S(c.value).billingAccount.totalPayments);return"N"+s}else return"N0"}),g=$(()=>{const s=c.value.payments;if(s&&s.length>0){const p=S(c.value).payments.sort((T,L)=>L.createdAt.getTime()-T.createdAt.getTime())[0];return console.log("This is the last payment --> ",p),{createdAt:p.createdAt.toDateString(),amount:p.amount}}else return{createdAt:"--/--/--",amount:"N0"}}),x=$(()=>{var T;let s={email:"",name:"",phone:""};const p=c.value.entitySubscriberProfile;return p&&(s={email:p.email,name:p.firstName+p.lastName,phone:(((T=p.phoneCode)==null?void 0:T.name)||"")+s.phone||""}),s}),y=$(()=>c.value.streetNumber?{num:S(c.value).streetNumber,name:S(c.value).street.name}:{});function _(s,p){console.log("the updated value is: -->",s);const T=d.value.find(L=>L.id===s.value);p.value=(T==null?void 0:T.name)||"",i.value[I.value].propertyTypeId=(T==null?void 0:T.id)||"",i.value[I.value].unitPrice=String((T==null?void 0:T.unitPrice)||"")}async function b(){d.value=await K.getPropertyTypes()}async function k(){A.value=!0;try{await K.savePropertyUnits({propertySubscriptionId:c.value.id,propertySubscriptionUnits:i.value}),he({type:"positive"})}catch{he({type:"negative"})}A.value=!1,v.value=!1}function Q(){i.value.push({propertyTypeId:"",propertyType:"",propertyUnit:"",unitPrice:""})}function B(s){i.value.splice(s,1)}function m(s){I.value=s}return se(c,s=>{s&&(i.value=c.value.propertySubscriptionUnits.map(p=>({propertyTypeId:p.entitySubscriberProperty.propertyType.id,propertyType:p.entitySubscriberProperty.propertyType.name,propertyUnit:p.propertyUnits,unitPrice:p.entitySubscriberProperty.propertyType.unitPrice})))}),ae(async()=>{c.value=await K.getPropertySubscriptionDetails(a.propertySubscriptionId)}),(s,p)=>(V(),R(Fe,{height:"auto",width:`${s.dialogWidth}rem`},{default:r(()=>[l(j,{class:"q-pa-lg flex column q-gutter-sm moderate-modal-font"},{default:r(()=>[u("div",Wa,[u("div",Qa,[l(qe,null,{default:r(()=>[Ha,u("div",null,[u("p",Ya,[za,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:c.value.id,rounded:""},null,8,["label"])]),u("p",Ka,[Xa,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:c.value.propertySubscriptionName,rounded:""},null,8,["label"])])])]),_:1})]),u("div",Ja,[l(qe,null,{default:r(()=>[Za,u("div",null,[u("p",null,[eo,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:O.value,rounded:""},null,8,["label"])]),u("p",null,[lo,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:g.value.amount,rounded:""},null,8,["label"])]),u("p",null,[to,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:g.value.createdAt,rounded:""},null,8,["label"])])])]),_:1})])]),u("div",ao,[l(qe,null,{default:r(()=>[oo,u("div",no,[u("p",null,[ro,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:y.value.num,rounded:""},null,8,["label"])]),u("p",null,[so,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:y.value.name,rounded:""},null,8,["label"])])])]),_:1})]),u("div",io,[l(qe,null,{default:r(()=>[uo,u("div",co,[u("p",null,[po,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:x.value.name,rounded:""},null,8,["label"])]),u("p",null,[mo,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:x.value.email,rounded:""},null,8,["label"])]),u("p",null,[fo,l(Z,{class:"q-ml-sm q-pa-sm q-px-sm",label:x.value.phone,rounded:""},null,8,["label"])])])]),_:1})]),u("div",vo,[l(qe,null,{default:r(()=>[u("div",bo,[go,u("div",yo,[v.value?re("",!0):(V(),q("span",_o,[l(E,{icon:"edit",round:"",onClick:p[0]||(p[0]=T=>v.value=!0)})])),v.value?(V(),q("span",ho,[l(E,{icon:"add",round:"",onClick:Q})])):re("",!0),v.value?(V(),q("span",wo,[l(E,{icon:"save",round:"",onClick:k})])):re("",!0)])]),u("div",null,[l(Me,{bordered:"",column:t,rows:i.value,"visible-columns":o,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${s.$getColor("secondary")}`},loading:A.value,"sort-method":T=>T,onRowClick:p[2]||(p[2]=T=>console.log("row with the following data was clicked: ",T))},{header:r(T=>[l(Ae,{props:T},{default:r(()=>[(V(!0),q(z,null,_e(T.cols,L=>(V(),R(yt,{key:L.name,props:T,style:{textAlign:"left"}},{default:r(()=>[X(Be(L.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:r(T=>[l(Ae,{props:T,onMouseenter:L=>m(T.rowIndex)},{default:r(()=>[(V(!0),q(z,null,_e(T.cols,(L,ue)=>(V(),R(Ue,{key:L.name,class:"text-left",style:{postion:"relative"}},{default:r(()=>[L.name==="propertyType"?(V(),q(z,{key:0},[X(Be(T.row[L.name])+" ",1),l(Fa,{modelValue:T.row[L.name],"onUpdate:modelValue":W=>T.row[L.name]=W,title:"Edit the Property Type","auto-save":""},{default:r(W=>[l(le,{filled:"","model-value":W.value,options:C.value,"use-input":"","input-debounce":"0",style:{width:"250px"},disable:!v.value,onKeyup:st(W.set,["enter"]),onPopupShow:b,"onUpdate:modelValue":oe=>_(oe,W)},{"no-option":r(()=>[l(we,null,{default:r(()=>[l(Se,{class:"text-grey"},{default:r(()=>[X(" No results ")]),_:1})]),_:1})]),_:2},1032,["model-value","options","disable","onKeyup","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):(V(),q(z,{key:1},[l(H,{modelValue:T.row[L.name],"onUpdate:modelValue":W=>T.row[L.name]=W,type:"text",dense:"",borderless:"",disable:!v.value},null,8,["modelValue","onUpdate:modelValue","disable"]),ue===T.cols.length-1?je((V(),q("span",{key:0,style:ne({position:"absolute",top:I.value===T.rowIndex?"0.5rem":"0",right:I.value===T.rowIndex?"0.5rem":"0",zIndex:I.value===T.rowIndex?"1":"0"})},[l(Sl,{"menu-items":n,onMenuItemClickHandler:p[1]||(p[1]=()=>B(I.value))})],4)),[[al,I.value===T.rowIndex]]):re("",!0)],64))]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style","loading","sort-method"])]),So]),_:1})])]),_:1})]),_:1},8,["width"]))}});const Io={class:"row justify-between items-center"},To={class:"q-mt-xl"},Co={class:"q-mt-lg",style:{height:"70vh"}},Vo={class:"q-mb-lg",style:{width:"20rem"}},tl=80,zo=M({__name:"PropertyBillingPage",setup(e){const a=ve(),n=Bt("light-page")||"#ffffff",t=ce("eventBus"),o=[{label:"View Details",icon:"visibility",textColor:"black"},{label:"Get Defaulters",icon:"paid",textColor:"black"}],i=[{label:"View Details",icon:"visibility",textColor:"black"},{label:"View Payments",icon:"paid",textColor:"black"}];K.handlePaginateSubscription(t,{onSuccess:Je,onError:ml});const d=ol[new Date().getMonth()+1],v=[{field:"propertySubscriptionId",label:"Property Subscription Id",name:"propertySubscriptionId",align:"left"},{field:"propertyName",label:"Property Name",name:"propertyName",align:"left"},{field:"oldCode",label:"Old Code",name:"oldCode",align:"left"},{field:"streetNumber",label:"Street Number",name:"streetNumber",align:"left"},{field:"streetName",label:"Street Name",name:"streetName",align:"left"},{field:"arrears",label:"Arrears",name:"arrears",align:"left"}],c=[{field:"streetId",name:"streetId",label:"streetId",align:"center"},{field:"streetName",label:"Street Name",name:"streetName",align:"center"},{field:"arrears",label:"Arrears",name:"arrears",align:"center"},{field:"totalBilling",label:"Total Billing",name:"totalBilling",align:"center"},{field:"actions",label:"Actions",name:"actions",align:"center"}],I=[{field:"streetName",label:"Street Name",name:"streetName",align:"center"},{field:"propertyName",label:"Property Name",name:"propertyName",align:"center"},{field:"currentBilling",label:"Current Billing",name:"currentBilling",align:"center"},{field:"arrears",label:"Arrears",name:"arrears",align:"center"}],A=[...I,{field:"totalBilling",label:"Total Billing",name:"totalBilling",align:"center"},{field:"lastPayment",label:"Last Payment",name:"lastPayment",align:"center"}],C=["streetName","arrears","totalBilling"],O=I.map(h=>h.field),g=[...O,"totalBilling","lastPayment"],x={billing:"billing",billingDetails:"billingDetails",billingDefaulters:"defaulters"};Ge.handleViewBillingDetails(t,{onSuccess:de}),Ge.handleGetDefaulters(t,{onSuccess:Ze});const y=P(J.PROPERTIES),_=P(!1),b=P(d),k=P(!1),Q=P(!1),B=P(fe.ADD_SUBSCRIBER),m=P(Ve.ADD_LGA),s=P(),p=P(-1);let T=P([]);const L=P("billing"),ue=P([]),W=P({page:1,rowsPerPage:3,rowsNumber:10}),oe=P(!0),ge=P(""),De=P(!1);let Ne=P();const ye=$(()=>Object.values(ol).map(h=>h)),dl=$(()=>({[J.PROPERTIES]:"Add New Property",[J.BILLINGS]:"Generate / Print Billing"})[y.value]),cl=$(()=>{var h;return(h=s.value)==null?void 0:h.map(f=>({propertySubscriptionId:f.propertySubscriptionId,propertyName:f.propertySubscriptionName,oldCode:f.oldCode,streetNumber:f.streetNumber,streetName:f.streetName,arrears:f.arrears}))}),pl=$(()=>{var h;return(h=T.value)==null?void 0:h.map(f=>({streetName:f.streetName,arrears:f.arrears,streetId:f.streetId,totalBilling:f.totalBilling}))});function Je(h){he({type:"positive"}),s.value=h==null?void 0:h.data,W.value=h==null?void 0:h.pagination}function ml(){he({type:"negative",message:"Could not load more data!"})}async function fl(h){oe.value=!0;const f=await K.getSubscriptionByPages(h);s.value=f==null?void 0:f.data,W.value=f==null?void 0:f.pagination,oe.value=!1}async function Y(h,f){f==="View Details"?(Ne.value=h,De.value=!0):alert("This feature is under development.")}function Re(h,f){f&&(console.log("payload",f),h==="View Details"?t.emit(D.VIEW_BILLING_DETAILS,{streetId:f,billingMonth:b.value}):h==="Get Defaulters"&&t.emit(D.GET_DEFAULTERS,{streetId:f}))}function de(h){L.value=x.billingDetails,ue.value=h}function Ze(h){L.value=x.billingDefaulters,ue.value=h}function me(h){p.value=h}function Hl(){_.value=!_.value}function vl(h){k.value=!0,B.value=h}return t.on(D.TRIGGER_REMOTE_MODAL_LGA,()=>{m.value=Ve.ADD_LGA,Q.value=!0}),t.on(D.TRIGGER_REMOTE_MODAL_LGA_WARD,()=>{m.value=Ve.ADD_LGA_WARD,Q.value=!0}),se(ge,async h=>{if(h){oe.value=!0;const f=await K.getSubscriptionByPages({pagination:W.value,filter:ge.value});s.value=f==null?void 0:f.data,W.value=f==null?void 0:f.pagination,oe.value=!1}}),it(async()=>{y.value===J.PROPERTIES&&(T.value=await Ge.getBillingAccountArrears({page:1,limit:5}))}),se(b,async()=>{y.value===J.BILLINGS&&(T.value=await Ge.getBillingAccountArrears({page:1,limit:5,month:b.value}))}),ut(()=>{a.loading.show({message:"Please, wait ..."})}),ae(()=>{a.loading.hide()}),ae(async()=>{const h=await K.getSubscriptions();s.value=h==null?void 0:h.data,W.value=h==null?void 0:h.pagination,oe.value=!1}),te(async()=>{t.off(D.VIEW_BILLING_DETAILS),t.off(D.GET_DEFAULTERS),t.off(D.PAGINATE_SUBSCRIPTION_TABLE)}),(h,f)=>(V(),R(xt,null,{default:r(()=>[u("div",{style:ne({backgroundColor:S(n),height:"100vh",padding:"0 1rem",width:"100%"})},[u("div",Io,[u("div",To,[l(zl,{modelValue:y.value,"onUpdate:modelValue":f[0]||(f[0]=w=>y.value=w),dense:"","active-color":"dark","active-bg-color":"secondary"},{default:r(()=>[l(Tl,{name:S(J).PROPERTIES,icon:"house",label:S(J).PROPERTIES,style:{width:"15rem"}},null,8,["name","label"]),l(Tl,{name:S(J).BILLINGS,icon:"receipt",label:S(J).BILLINGS,style:{width:"15rem"}},null,8,["name","label"])]),_:1},8,["modelValue"])]),u("div",null,[l(E,{color:"primary",rounded:"",onClick:Hl},{default:r(()=>[X(Be(dl.value),1)]),_:1})])]),u("div",Co,[l(Kl,{modelValue:y.value,"onUpdate:modelValue":f[9]||(f[9]=w=>y.value=w),style:{"background-color":"inherit",height:"100%"}},{default:r(()=>[l(Cl,{name:S(J).PROPERTIES},{default:r(()=>[u("div",null,[l(_l,{rounded:"",class:"bg-accent"},{default:r(()=>[l(j,null,{default:r(()=>[l(Me,{class:"header-sticky",rows:cl.value,bordered:"",columns:v,"table-header-style":{backgroundColor:`${h.$getColor("secondary")}`},onRequest:fl,pagination:W.value,"onUpdate:pagination":f[3]||(f[3]=w=>W.value=w),loading:oe.value,filter:ge.value},{"top-right":r(()=>[l(H,{borderless:"",dense:"",debounce:"300",modelValue:ge.value,"onUpdate:modelValue":f[1]||(f[1]=w=>ge.value=w),placeholder:"Search"},{append:r(()=>[l(sl,{name:"search"})]),_:1},8,["modelValue"])]),body:r(w=>[l(Ae,{props:w,onMouseenter:G=>me(w.rowIndex),onMouseleave:f[2]||(f[2]=G=>me(-1))},{default:r(()=>[(V(!0),q(z,null,_e(w.cols,(G,bl)=>(V(),R(Ue,{key:G.name},{default:r(()=>[l(Z,{label:G.value,class:"text-bold",style:ne({backgroundColor:"transparent",color:`${h.$getColor("dark")}`})},null,8,["label","style"]),bl===w.cols.length-1?je((V(),q("span",{key:0,style:ne({position:"absolute",top:p.value===w.rowIndex?"0.5rem":"0",right:p.value===w.rowIndex?"0.5rem":"0",zIndex:p.value===w.rowIndex?"1":"0"})},[l(Sl,{"menu-items":i,onMenuItemClickHandler:gl=>Y(w.row.propertySubscriptionId,gl.label)},null,8,["onMenuItemClickHandler"])],4)),[[al,p.value===w.rowIndex]]):re("",!0)]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style","pagination","loading","filter"])]),_:1})]),_:1})])]),_:1},8,["name"]),l(Cl,{name:S(J).BILLINGS},{default:r(()=>[u("div",Vo,[l(le,{style:{width:"100%"},modelValue:b.value,"onUpdate:modelValue":f[4]||(f[4]=w=>b.value=w),label:"Month",filled:"",outlined:"","label-color":"dark",options:ye.value,clearable:"","map-options":"","emit-value":""},null,8,["modelValue","options"])]),u("div",null,[l(_l,{rounded:"",class:"bg-accent"},{default:r(()=>[je(l(j,null,{default:r(()=>[l(E,{icon:"arrow_back",flat:"",onClick:f[5]||(f[5]=w=>L.value=x.billing)})]),_:1},512),[[al,L.value!==x.billing]]),l(j,null,{default:r(()=>[L.value===x.billing?(V(),R(Me,{key:0,bordered:"",columns:c,rows:pl.value,"visible-columns":C,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${h.$getColor("secondary")}`}},{body:r(w=>[l(Ae,{props:w,onMouseenter:G=>me(w.rowIndex),onMouseleave:f[6]||(f[6]=G=>me(-1))},{default:r(()=>[(V(!0),q(z,null,_e(w.cols,(G,bl)=>(V(),R(Ue,{key:G.name,class:"text-center",style:{postion:"relative"}},{default:r(()=>[l(Z,{label:G.value,class:"text-bold",style:ne({backgroundColor:"transparent",color:`${h.$getColor("dark")}`})},null,8,["label","style"]),bl===w.cols.length-1?je((V(),q("span",{key:0,style:ne({position:"absolute",top:p.value===w.rowIndex?"0.5rem":"0",right:p.value===w.rowIndex?"0.5rem":"0",zIndex:p.value===w.rowIndex?"1":"0"})},[l(Sl,{"menu-items":o,onMenuItemClickHandler:gl=>Re(gl.label,w.row.streetId)},null,8,["onMenuItemClickHandler"])],4)),[[al,p.value===w.rowIndex]]):re("",!0)]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style"])):L.value===x.billingDefaulters?(V(),R(Me,{key:1,bordered:"",columns:I,rows:ue.value,"visible-columns":S(O),"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${h.$getColor("secondary")}`},title:"Billings Payment Defaulters"},{body:r(w=>[l(Ae,{props:w,onMouseenter:G=>me(w.rowIndex),onMouseleave:f[7]||(f[7]=G=>me(-1))},{default:r(()=>[(V(!0),q(z,null,_e(w.cols,G=>(V(),R(Ue,{key:G.name,class:"text-center",style:{postion:"relative"}},{default:r(()=>[l(Z,{label:G.value,class:"text-bold",style:ne({backgroundColor:"transparent",color:`${h.$getColor("dark")}`})},null,8,["label","style"])]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","visible-columns","table-header-style"])):L.value===x.billingDetails?(V(),R(Me,{key:2,bordered:"",columns:A,rows:ue.value,"visible-columns":g,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${h.$getColor("secondary")}`},title:"Billing Details"},{body:r(w=>[l(Ae,{props:w,onMouseenter:G=>me(w.rowIndex),onMouseleave:f[8]||(f[8]=G=>me(-1))},{default:r(()=>[(V(!0),q(z,null,_e(w.cols,G=>(V(),R(Ue,{key:G.name,class:"text-center",style:{postion:"relative"}},{default:r(()=>[l(Z,{label:G.value,class:"text-bold",style:ne({backgroundColor:"transparent",color:`${h.$getColor("dark")}`})},null,8,["label","style"])]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style"])):re("",!0)]),_:1})]),_:1})])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),l(el,{modelValue:_.value,"onUpdate:modelValue":f[13]||(f[13]=w=>_.value=w)},{default:r(()=>[l(Fe,{height:"auto",width:`${tl}rem`},{default:r(()=>[y.value===S(J).PROPERTIES?(V(),R(Yt,{key:0,onAddSubscriber:f[10]||(f[10]=w=>vl(S(fe).ADD_SUBSCRIBER)),onAddStreet:f[11]||(f[11]=w=>vl(S(fe).ADD_STREET)),onAddPropertyType:f[12]||(f[12]=w=>vl(S(fe).ADD_PROPERTY_TYPE))})):y.value===S(J).BILLINGS?(V(),R(sa,{key:1})):re("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),l(el,{modelValue:k.value,"onUpdate:modelValue":f[14]||(f[14]=w=>k.value=w),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[l(Fe,{height:"auto",width:`${tl-30}rem`},{default:r(()=>[B.value===S(fe).ADD_SUBSCRIBER?(V(),R(ba,{key:0})):B.value===S(fe).ADD_STREET?(V(),R(Sa,{key:1})):B.value===S(fe).ADD_PROPERTY_TYPE?(V(),R(Ca,{key:2})):re("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),l(el,{modelValue:Q.value,"onUpdate:modelValue":f[15]||(f[15]=w=>Q.value=w),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[l(Fe,{height:"auto",width:`${tl}rem`},{default:r(()=>[m.value===S(Ve).ADD_LGA?(V(),R(Oa,{key:0})):m.value===S(Ve).ADD_LGA_WARD?(V(),R(Na,{key:1})):re("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),l(el,{modelValue:De.value,"onUpdate:modelValue":f[16]||(f[16]=w=>De.value=w)},{default:r(()=>[l(Po,{dialogWidth:tl,"property-subscription-id":S(Ne)},null,8,["property-subscription-id"])]),_:1},8,["modelValue"])],4)]),_:1}))}});export{zo as default};
