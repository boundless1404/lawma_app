import{i as Ae,bW as Rt,r as P,c as w,aI as pe,o as _e,cj as cl,bl as at,ck as Rl,h as D,bU as nt,c5 as Dl,cl as Ol,c0 as Oe,c1 as Qt,g as qe,cm as vl,bV as we,w as se,aS as fl,aK as Nl,aG as Ml,bY as Ve,bK as Ul,bL as ct,bM as ml,bN as Gl,bO as et,bP as Dt,bS as tl,bT as bt,bo as pl,cn as Fl,aF as bl,a3 as jl,bX as Wl,cc as Ql,bJ as Hl,d as Y,b$ as gl,C as Qe,aQ as R,ae as z,f as o,bj as d,F as re,al as de,O as k,bH as me,af as f,co as F,cp as Ot,b_ as zl,X as rt,W as Ce,U as ll,ac as H,cq as yl,aW as Ge,cr as Yl,aX as Kl,ad as Ie,bG as Xl,bF as xt,bf as Jl,aH as Zl}from"./index.e813c677.js";import{u as hl,V as ea,g as ta,a as la,b as aa,c as Ht,d as zt,B as He,I as K,e as it,E as W,Q as ht,f as ne,h as Nt,i as na,j as oa,k as ra}from"./index.30aeddff.js";import{Q as ia}from"./QResizeObserver.9154220c.js";import{u as $t,r as sa,a as ua,b as da,c as ca,v as al,d as va,e as fa,f as ma,g as pa,h as ba,i as nl,s as ga,p as ol,j as ya,k as Ne,P as ue,l as _l,_ as ze,Q as ye,m as st,n as Fe,o as Vt,y as ha,C as _a,L as ot,I as wa,q as Sa,t as gt,w as ft,x as Pa,z as Ct}from"./ClosePopup.88cfe011.js";import{b as Mt,c as Ut,u as wl,a as Sl,d as Pl,i as je,j as We}from"./format.d70a04be.js";import{Q as fe}from"./QBadge.95feb921.js";import{u as Ta,a as Ca,b as le,Q as Gt}from"./QCard.567eb8ba.js";import{g as rl,s as il}from"./touch.3df10340.js";import{Q as Ia}from"./QPage.9da907d5.js";import{g as Aa}from"./get-css-var.23548d6a.js";import{c as ae,i as ut}from"./utils.01331f21.js";import{api as Tl}from"./axios.3a061b8c.js";import{U as tt}from"./urlPaths.enum.6f8af417.js";import{r as It}from"./default.request.685f36b4.js";import{u as xa}from"./billing-store.0a570296.js";import{I as $a}from"./IsEmail.8f9f7cb9.js";import"./storeforage.7592d9ac.js";let Va=0;const qa=["click","keydown"],La={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Va++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ka(e,t,r,a){const l=Ae(cl,Rt);if(l===Rt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Rt;const{proxy:n}=qe(),i=P(null),v=P(null),u=P(null),S=w(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),T=w(()=>l.currentModel.value===e.name),I=w(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(T.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(a!==void 0?a.linkClass.value:"")),A=w(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),p=w(()=>e.disable===!0||l.hasFocus.value===!0||T.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function L(x,B){if(B!==!0&&i.value!==null&&i.value.focus(),e.disable===!0){a!==void 0&&a.hasRouterLink.value===!0&&nt(x);return}if(a===void 0){l.updateModel({name:e.name}),r("click",x);return}if(a.hasRouterLink.value===!0){const m=(s={})=>{let c;const C=s.to===void 0||vl(s.to,e.to)===!0?l.avoidRouteWatcher=hl():null;return a.navigateToRouterLink(x,{...s,returnRouterError:!0}).catch(O=>{c=O}).then(O=>{if(C===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,c===void 0&&(O===void 0||O.message.startsWith("Avoided redundant navigation")===!0)&&l.updateModel({name:e.name})),s.returnRouterError===!0)return c!==void 0?Promise.reject(c):O})};r("click",x,m),x.defaultPrevented!==!0&&m();return}r("click",x)}function y(x){Dl(x,[13,32])?L(x,!0):Ol(x)!==!0&&x.keyCode>=35&&x.keyCode<=40&&x.altKey!==!0&&x.metaKey!==!0&&l.onKbdNavigate(x.keyCode,n.$el)===!0&&nt(x),r("keydown",x)}function _(){const x=l.tabProps.value.narrowIndicator,B=[],m=D("div",{ref:u,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&B.push(D(Oe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&B.push(D("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&B.push(e.alertIcon!==void 0?D(Oe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):D("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),x===!0&&B.push(m);const s=[D("div",{class:"q-focus-helper",tabindex:-1,ref:i}),D("div",{class:A.value},Qt(t.default,B))];return x===!1&&s.push(m),s}const b={name:w(()=>e.name),rootRef:v,tabIndicatorRef:u,routeData:a};pe(()=>{l.unregisterTab(b)}),_e(()=>{l.registerTab(b)});function M(x,B){const m={ref:v,class:I.value,tabindex:p.value,role:"tab","aria-selected":T.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:L,onKeydown:y,...B};return at(D(x,m,_()),[[Rl,S.value]])}return{renderTab:M,$tabs:l}}var sl=we({name:"QTab",props:La,emits:qa,setup(e,{slots:t,emit:r}){const{renderTab:a}=ka(e,t,r);return()=>a("div")}});function Ba(e,t,r){const a=r===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const Ea=["left","center","right","justify"];var Ra=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ea.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:r}){const{proxy:a}=qe(),{$q:l}=a,{registerTick:n}=$t(),{registerTick:i}=$t(),{registerTick:v}=$t(),{registerTimeout:u,removeTimeout:S}=Mt(),{registerTimeout:T,removeTimeout:I}=Mt(),A=P(null),p=P(null),L=P(e.modelValue),y=P(!1),_=P(!0),b=P(!1),M=P(!1),x=[],B=P(0),m=P(!1);let s=null,c=null,C;const O=w(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ba(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),be=w(()=>{const g=B.value,V=L.value;for(let N=0;N<g;N++)if(x[N].name.value===V)return!0;return!1}),Q=w(()=>`q-tabs__content--align-${y.value===!0?"left":M.value===!0?"justify":e.align}`),ce=w(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),E=w(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Q.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),U=w(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ee=w(()=>e.vertical!==!0&&l.lang.rtl===!0),oe=w(()=>sa===!1&&ee.value===!0);se(ee,Pe),se(()=>e.modelValue,g=>{Ue({name:g,setCurrent:!0,skipEmit:!0})}),se(()=>e.outsideArrows,ke);function Ue({name:g,setCurrent:V,skipEmit:N}){L.value!==g&&(N!==!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",g),(V===!0||e["onUpdate:modelValue"]===void 0)&&(Xe(L.value,g),L.value=g))}function ke(){n(()=>{Ke({width:A.value.offsetWidth,height:A.value.offsetHeight})})}function Ke(g){if(U.value===void 0||p.value===null)return;const V=g[U.value.container],N=Math.min(p.value[U.value.scroll],Array.prototype.reduce.call(p.value.children,(Z,j)=>Z+(j[U.value.content]||0),0)),J=V>0&&N>V;y.value=J,J===!0&&i(Pe),M.value=V<parseInt(e.breakpoint,10)}function Xe(g,V){const N=g!=null&&g!==""?x.find(Z=>Z.name.value===g):null,J=V!=null&&V!==""?x.find(Z=>Z.name.value===V):null;if(N&&J){const Z=N.tabIndicatorRef.value,j=J.tabIndicatorRef.value;s!==null&&(clearTimeout(s),s=null),Z.style.transition="none",Z.style.transform="none",j.style.transition="none",j.style.transform="none";const G=Z.getBoundingClientRect(),ie=j.getBoundingClientRect();j.style.transform=e.vertical===!0?`translate3d(0,${G.top-ie.top}px,0) scale3d(1,${ie.height?G.height/ie.height:1},1)`:`translate3d(${G.left-ie.left}px,0,0) scale3d(${ie.width?G.width/ie.width:1},1,1)`,v(()=>{s=setTimeout(()=>{s=null,j.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",j.style.transform="none"},70)})}J&&y.value===!0&&Se(J.rootRef.value)}function Se(g){const{left:V,width:N,top:J,height:Z}=p.value.getBoundingClientRect(),j=g.getBoundingClientRect();let G=e.vertical===!0?j.top-J:j.left-V;if(G<0){p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(G),Pe();return}G+=e.vertical===!0?j.height-Z:j.width-N,G>0&&(p.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(G),Pe())}function Pe(){const g=p.value;if(g===null)return;const V=g.getBoundingClientRect(),N=e.vertical===!0?g.scrollTop:Math.abs(g.scrollLeft);ee.value===!0?(_.value=Math.ceil(N+V.width)<g.scrollWidth-1,b.value=N>0):(_.value=N>0,b.value=e.vertical===!0?Math.ceil(N+V.height)<g.scrollHeight:Math.ceil(N+V.width)<g.scrollWidth)}function te(g){c!==null&&clearInterval(c),c=setInterval(()=>{dt(g)===!0&&ge()},5)}function Be(){te(oe.value===!0?Number.MAX_SAFE_INTEGER:0)}function he(){te(oe.value===!0?0:Number.MAX_SAFE_INTEGER)}function ge(){c!==null&&(clearInterval(c),c=null)}function Te(g,V){const N=Array.prototype.filter.call(p.value.children,ie=>ie===V||ie.matches&&ie.matches(".q-tab.q-focusable")===!0),J=N.length;if(J===0)return;if(g===36)return Se(N[0]),N[0].focus(),!0;if(g===35)return Se(N[J-1]),N[J-1].focus(),!0;const Z=g===(e.vertical===!0?38:37),j=g===(e.vertical===!0?40:39),G=Z===!0?-1:j===!0?1:void 0;if(G!==void 0){const ie=ee.value===!0?-1:1,$e=N.indexOf(V)+G*ie;return $e>=0&&$e<J&&(Se(N[$e]),N[$e].focus({preventScroll:!0})),!0}}const kt=w(()=>oe.value===!0?{get:g=>Math.abs(g.scrollLeft),set:(g,V)=>{g.scrollLeft=-V}}:e.vertical===!0?{get:g=>g.scrollTop,set:(g,V)=>{g.scrollTop=V}}:{get:g=>g.scrollLeft,set:(g,V)=>{g.scrollLeft=V}});function dt(g){const V=p.value,{get:N,set:J}=kt.value;let Z=!1,j=N(V);const G=g<j?-1:1;return j+=G*5,j<0?(Z=!0,j=0):(G===-1&&j<=g||G===1&&j>=g)&&(Z=!0,j=g),J(V,j),Pe(),Z}function $(g,V){for(const N in g)if(g[N]!==V[N])return!1;return!0}function h(){let g=null,V={matchedLen:0,queryDiff:9999,hrefLen:0};const N=x.filter(G=>G.routeData!==void 0&&G.routeData.hasRouterLink.value===!0),{hash:J,query:Z}=a.$route,j=Object.keys(Z).length;for(const G of N){const ie=G.routeData.exact.value===!0;if(G.routeData[ie===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:$e,query:Bt,matched:Bl,href:El}=G.routeData.resolvedLink.value,Et=Object.keys(Bt).length;if(ie===!0){if($e!==J||Et!==j||$(Z,Bt)===!1)continue;g=G.name.value;break}if($e!==""&&$e!==J||Et!==0&&$(Bt,Z)===!1)continue;const Re={matchedLen:Bl.length,queryDiff:j-Et,hrefLen:El.length-$e.length};if(Re.matchedLen>V.matchedLen){g=G.name.value,V=Re;continue}else if(Re.matchedLen!==V.matchedLen)continue;if(Re.queryDiff<V.queryDiff)g=G.name.value,V=Re;else if(Re.queryDiff!==V.queryDiff)continue;Re.hrefLen>V.hrefLen&&(g=G.name.value,V=Re)}g===null&&x.some(G=>G.routeData===void 0&&G.name.value===L.value)===!0||Ue({name:g,setCurrent:!0})}function q(g){if(S(),m.value!==!0&&A.value!==null&&g.target&&typeof g.target.closest=="function"){const V=g.target.closest(".q-tab");V&&A.value.contains(V)===!0&&(m.value=!0,y.value===!0&&Se(V))}}function X(){u(()=>{m.value=!1},30)}function Ee(){Jt.avoidRouteWatcher===!1?T(h):I()}function Je(){if(C===void 0){const g=se(()=>a.$route.fullPath,Ee);C=()=>{g(),C=void 0}}}function Ll(g){x.push(g),B.value++,ke(),g.routeData===void 0||a.$route===void 0?T(()=>{if(y.value===!0){const V=L.value,N=V!=null&&V!==""?x.find(J=>J.name.value===V):null;N&&Se(N.rootRef.value)}}):(Je(),g.routeData.hasRouterLink.value===!0&&Ee())}function kl(g){x.splice(x.indexOf(g),1),B.value--,ke(),C!==void 0&&g.routeData!==void 0&&(x.every(V=>V.routeData===void 0)===!0&&C(),Ee())}const Jt={currentModel:L,tabProps:O,hasFocus:m,hasActiveTab:be,registerTab:Ll,unregisterTab:kl,verifyRouteModel:Ee,updateModel:Ue,onKbdNavigate:Te,avoidRouteWatcher:!1};fl(cl,Jt);function Zt(){s!==null&&clearTimeout(s),ge(),C!==void 0&&C()}let el;return pe(Zt),Nl(()=>{el=C!==void 0,Zt()}),Ml(()=>{el===!0&&Je(),ke()}),()=>D("div",{ref:A,class:ce.value,role:"tablist",onFocusin:q,onFocusout:X},[D(ia,{onResize:Ke}),D("div",{ref:p,class:E.value,onScroll:Pe},Ve(t.default)),D(Oe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:ge,onMouseleavePassive:ge,onTouchendPassive:ge}),D(Oe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:he,onTouchstartPassive:he,onMouseupPassive:ge,onMouseleavePassive:ge,onTouchendPassive:ge})])}}),mt=we({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const r=qe(),a=w(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return D("td",{class:a.value},Ve(t.default));const l=r.vnode.key,n=(e.props.colsMap!==void 0?e.props.colsMap[l]:null)||e.props.col;if(n===void 0)return;const{row:i}=e.props;return D("td",{class:a.value+n.__tdClass(i),style:n.__tdStyle(i)},Ve(t.default))}}}),lt=we({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const r=w(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>D("tr",{class:r.value},Ve(t.default))}});function Da(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,a)=>{const l=parseFloat(r);l&&(t[a]=l)}),t}var Oa=Ul({name:"touch-swipe",beforeMount(e,{value:t,arg:r,modifiers:a}){if(a.mouse!==!0&&ct.has.touch!==!0)return;const l=a.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:Da(r),direction:rl(a),noop:ml,mouseStart(i){il(i,n)&&Gl(i)&&(et(n,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(i,!0))},touchStart(i){if(il(i,n)){const v=i.target;et(n,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),n.start(i)}},start(i,v){ct.is.firefox===!0&&Dt(e,!0);const u=tl(i);n.event={x:u.left,y:u.top,time:Date.now(),mouse:v===!0,dir:!1}},move(i){if(n.event===void 0)return;if(n.event.dir!==!1){nt(i);return}const v=Date.now()-n.event.time;if(v===0)return;const u=tl(i),S=u.left-n.event.x,T=Math.abs(S),I=u.top-n.event.y,A=Math.abs(I);if(n.event.mouse!==!0){if(T<n.sensitivity[1]&&A<n.sensitivity[1]){n.end(i);return}}else if(window.getSelection().toString()!==""){n.end(i);return}else if(T<n.sensitivity[2]&&A<n.sensitivity[2])return;const p=T/v,L=A/v;n.direction.vertical===!0&&T<A&&T<100&&L>n.sensitivity[0]&&(n.event.dir=I<0?"up":"down"),n.direction.horizontal===!0&&T>A&&A<100&&p>n.sensitivity[0]&&(n.event.dir=S<0?"left":"right"),n.direction.up===!0&&T<A&&I<0&&T<100&&L>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&T<A&&I>0&&T<100&&L>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&T>A&&S<0&&A<100&&p>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&T>A&&S>0&&A<100&&p>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(nt(i),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ut(),n.styleCleanup=y=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const _=()=>{document.body.classList.remove("no-pointer-events--children")};y===!0?setTimeout(_,50):_()}),n.handler({evt:i,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:v,distance:{x:T,y:A}})):n.end(i)},end(i){n.event!==void 0&&(bt(n,"temp"),ct.is.firefox===!0&&Dt(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(!0),i!==void 0&&n.event.dir!==!1&&nt(i),n.event=void 0)}};if(e.__qtouchswipe=n,a.mouse===!0){const i=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";et(n,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}ct.has.touch===!0&&et(n,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const r=e.__qtouchswipe;r!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&r.end(),r.handler=t.value),r.direction=rl(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(bt(t,"main"),bt(t,"temp"),ct.is.firefox===!0&&Dt(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});const Na={name:{required:!0},disable:Boolean},ul={setup(e,{slots:t}){return()=>D("div",{class:"q-panel scroll",role:"tabpanel"},Ve(t.default))}},Ma={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ua=["update:modelValue","beforeTransition","transition"];function Ga(){const{props:e,emit:t,proxy:r}=qe(),{getCacheWithFn:a}=ua();let l,n;const i=P(null),v=P(null);function u(E){const U=e.vertical===!0?"up":"left";c((r.$q.lang.rtl===!0?-1:1)*(E.direction===U?1:-1))}const S=w(()=>[[Oa,u,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),T=w(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),I=w(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),A=w(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=w(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),L=w(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),y=w(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);se(()=>e.modelValue,(E,U)=>{const ee=x(E)===!0?B(E):-1;n!==!0&&s(ee===-1?0:ee<B(U)?-1:1),i.value!==ee&&(i.value=ee,t("beforeTransition",E,U),bl(()=>{t("transition",E,U)}))});function _(){c(1)}function b(){c(-1)}function M(E){t("update:modelValue",E)}function x(E){return E!=null&&E!==""}function B(E){return l.findIndex(U=>U.props.name===E&&U.props.disable!==""&&U.props.disable!==!0)}function m(){return l.filter(E=>E.props.disable!==""&&E.props.disable!==!0)}function s(E){const U=E!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(E===-1?T.value:I.value):null;v.value!==U&&(v.value=U)}function c(E,U=i.value){let ee=U+E;for(;ee>-1&&ee<l.length;){const oe=l[ee];if(oe!==void 0&&oe.props.disable!==""&&oe.props.disable!==!0){s(E),n=!0,t("update:modelValue",oe.props.name),setTimeout(()=>{n=!1});return}ee+=E}e.infinite===!0&&l.length!==0&&U!==-1&&U!==l.length&&c(E,E===-1?l.length:-1)}function C(){const E=B(e.modelValue);return i.value!==E&&(i.value=E),!0}function O(){const E=x(e.modelValue)===!0&&C()&&l[i.value];return e.keepAlive===!0?[D(jl,L.value,[D(y.value===!0?a(p.value,()=>({...ul,name:p.value})):ul,{key:p.value,style:A.value},()=>E)])]:[D("div",{class:"q-panel scroll",style:A.value,key:p.value,role:"tabpanel"},[E])]}function be(){if(l.length!==0)return e.animated===!0?[D(pl,{name:v.value},O)]:O()}function Q(E){return l=Fl(Ve(E.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&x(U.props.name)===!0),l.length}function ce(){return l}return Object.assign(r,{next:_,previous:b,goTo:M}),{panelIndex:i,panelDirectives:S,updatePanelsList:Q,updatePanelIndex:C,getPanelContent:be,getEnabledPanels:m,getPanels:ce,isValidPanelName:x,keepAliveProps:L,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:c,goToPanel:M,nextPanel:_,previousPanel:b}}var dl=we({name:"QTabPanel",props:Na,setup(e,{slots:t}){return()=>D("div",{class:"q-tab-panel",role:"tabpanel"},Ve(t.default))}}),Fa=we({name:"QTabPanels",props:{...Ma,...Ta},emits:Ua,setup(e,{slots:t}){const r=qe(),a=Ca(e,r.proxy.$q),{updatePanelsList:l,getPanelContent:n,panelDirectives:i}=Ga(),v=w(()=>"q-tab-panels q-panel-parent"+(a.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),Wl("div",{class:v.value},n(),"pan",e.swipeable,()=>i.value))}}),Ft=we({name:"QTooltip",inheritAttrs:!1,props:{...da,...wl,...ca,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:al},self:{type:String,default:"top middle",validator:al},offset:{type:Array,default:()=>[14,14],validator:va},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Sl],setup(e,{slots:t,emit:r,attrs:a}){let l,n;const i=qe(),{proxy:{$q:v}}=i,u=P(null),S=P(!1),T=w(()=>ol(e.anchor,v.lang.rtl)),I=w(()=>ol(e.self,v.lang.rtl)),A=w(()=>e.persistent!==!0),{registerTick:p,removeTick:L}=$t(),{registerTimeout:y}=Mt(),{transitionProps:_,transitionStyle:b}=fa(e),{localScrollTarget:M,changeScrollEvent:x,unconfigureScrollTarget:B}=ma(e,Xe),{anchorEl:m,canShow:s,anchorEvents:c}=pa({showing:S,configureAnchorEl:Ke}),{show:C,hide:O}=Pl({showing:S,canShow:s,handleShow:E,handleHide:U,hideOnRouteChange:A,processOnMount:!0});Object.assign(c,{delayShow:Ue,delayHide:ke});const{showPortal:be,hidePortal:Q,renderPortal:ce}=ba(i,u,Pe,"tooltip");if(v.platform.is.mobile===!0){const te={anchorEl:m,innerRef:u,onClickOutside(he){return O(he),he.target.classList.contains("q-dialog__backdrop")&&nt(he),!0}},Be=w(()=>e.modelValue===null&&e.persistent!==!0&&S.value===!0);se(Be,he=>{(he===!0?ya:nl)(te)}),pe(()=>{nl(te)})}function E(te){be(),p(()=>{n=new MutationObserver(()=>oe()),n.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),oe(),Xe()}),l===void 0&&(l=se(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,oe)),y(()=>{be(!0),r("show",te)},e.transitionDuration)}function U(te){L(),Q(),ee(),y(()=>{Q(!0),r("hide",te)},e.transitionDuration)}function ee(){n!==void 0&&(n.disconnect(),n=void 0),l!==void 0&&(l(),l=void 0),B(),bt(c,"tooltipTemp")}function oe(){ga({targetEl:u.value,offset:e.offset,anchorEl:m.value,anchorOrigin:T.value,selfOrigin:I.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ue(te){if(v.platform.is.mobile===!0){Ut(),document.body.classList.add("non-selectable");const Be=m.value,he=["touchmove","touchcancel","touchend","click"].map(ge=>[Be,ge,"delayHide","passiveCapture"]);et(c,"tooltipTemp",he)}y(()=>{C(te)},e.delay)}function ke(te){v.platform.is.mobile===!0&&(bt(c,"tooltipTemp"),Ut(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{O(te)},e.hideDelay)}function Ke(){if(e.noParentEvent===!0||m.value===null)return;const te=v.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];et(c,"anchor",te)}function Xe(){if(m.value!==null||e.scrollTarget!==void 0){M.value=Ql(m.value,e.scrollTarget);const te=e.noParentEvent===!0?oe:O;x(M.value,te)}}function Se(){return S.value===!0?D("div",{...a,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",a.class],style:[a.style,b.value],role:"tooltip"},Ve(t.default)):null}function Pe(){return D(pl,_.value,Se)}return pe(ee),Object.assign(i.proxy,{updatePosition:oe}),ce}});function _t(e){return function(t,r){var a={type:ea.CONDITIONAL_VALIDATION,target:t.constructor,propertyName:r,constraints:[function(l,n){return l[r]!==null&&l[r]!==void 0}],validationOptions:e};ta().addValidationMetadata(new la(a))}}var jt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(aa.exports);function a(i){return i&&i.__esModule?i:{default:i}}function l(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(u){return typeof u}:l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(i)}function n(i,v){(0,r.default)(i);var u,S;l(v)==="object"?(u=v.min||0,S=v.max):(u=arguments[1]||0,S=arguments[2]);var T=i.match(/(\uFE0F|\uFE0E)/g)||[],I=i.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],A=i.length-T.length-I.length;return A>=u&&(typeof S>"u"||A<=S)}e.exports=t.default,e.exports.default=t.default})(jt,jt.exports);var Cl=Hl(jt.exports),ja="maxLength";function Wa(e,t){return typeof e=="string"&&Cl(e,{min:0,max:t})}function wt(e,t){return Ht({name:ja,constraints:[e],validator:{validate:function(r,a){return Wa(r,a==null?void 0:a.constraints[0])},defaultMessage:zt(function(r){return r+"$property must be shorter than or equal to $constraint1 characters"},t)}},t)}var Qa="minLength";function Ha(e,t){return typeof e=="string"&&Cl(e,{min:t})}function St(e,t){return Ht({name:Qa,constraints:[e],validator:{validate:function(r,a){return Ha(r,a==null?void 0:a.constraints[0])},defaultMessage:zt(function(r){return r+"$property must be longer than or equal to $constraint1 characters"},t)}},t)}var za="isBoolean";function Ya(e){return e instanceof Boolean||typeof e=="boolean"}function Ka(e){return Ht({name:za,validator:{validate:function(t,r){return Ya(t)},defaultMessage:zt(function(t){return t+"$property must be a boolean value"},e)}},e)}var Xa=Object.defineProperty,Ja=Object.getOwnPropertyDescriptor,Le=(e,t,r,a)=>{for(var l=a>1?void 0:a?Ja(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&Xa(t,r,l),l};class xe extends He{id;propertyName;propertyUnit;expectedMonthlyCost;propertyTypeId;streetId;streetNumber;oldCode;propertySubscriberProfileId;isOwner=!1}Le([K({message:"Please, enter the property name"})],xe.prototype,"propertyName",2);Le([K({message:"Please, enter the property unit"})],xe.prototype,"propertyUnit",2);Le([_t()],xe.prototype,"expectedMonthlyCost",2);Le([K({message:"Please, select the property type"})],xe.prototype,"propertyTypeId",2);Le([K({message:"Please, select the street"})],xe.prototype,"streetId",2);Le([K({message:"Please, enter the street number"})],xe.prototype,"streetNumber",2);Le([_t()],xe.prototype,"oldCode",2);Le([K({message:"Please, select a custiodian"})],xe.prototype,"propertySubscriberProfileId",2);Le([Ka()],xe.prototype,"isOwner",2);const Za={class:"row justify-between"},en={class:"q-gutter-xl"},tn={class:"q-gutter-xl"},ln={style:{width:"20rem"}},an={class:"row justify-center q-mt-xl",style:{width:"100%"}},nn=Y({__name:"NewPropertySubscription",emits:["addSubscriber","addPropertyType","addStreet"],setup(e,{emit:t}){Y({name:"new-property-subscription"});const r=t,a=Ae("eventBus"),l={width:"35rem"},n={width:"30rem"},i=Ne();ue.handlePostSubscription(a,{onSuccess:M,onError:x});const v=_l();let u;const S=P(),T=P([]),I=P([]),{streets:A}=gl(v),p=Qe(new xe),L=w(()=>T.value.map(m=>({label:m.firstName+" "+m.lastName,value:m.id}))),y=w(()=>I.value.map(m=>({label:`${m.name} - ${m.unitPrice}`,value:m.id}))),_=w(()=>{var m;return(m=A==null?void 0:A.value)==null?void 0:m.map(s=>({label:s.name,value:s.id}))});it(async()=>{p.validate()});async function b(){var m;if(p.validate(),!ut(p)){console.log("the following errors exist",p.errors),await((m=S.value)==null?void 0:m.validate());return}i.loading.show({message:"Submitting ..."}),a.emit(W.NEW_PROPERTY_SUBSCRIPTION,p),u=setTimeout(()=>{i.loading.hide()},st)}function M(){p.clearValues(),ae({loader:i.loading,timer:u})}function x(){ae({loader:i.loading,timer:u})}function B(m){r(m)}return se([()=>p.propertyTypeId,()=>p.propertyUnit],([m,s])=>{if(m&&s){const c=I.value.find(C=>C.id===m);return p.expectedMonthlyCost=String(Number(c==null?void 0:c.unitPrice)*s),p.expectedMonthlyCost}}),_e(async()=>{try{A!=null&&A.value||v.fetchServerData({type:"street"}),I.value=await ue.getPropertyTypes(),T.value=await ue.getSubscriberUsers()}catch(m){console.log(m)}}),pe(()=>{a.off(W.NEW_PROPERTY_SUBSCRIPTION)}),(m,s)=>(R(),z(re,null,[o(le,{class:"text-center"},{default:d(()=>[o(ze,null,{default:d(()=>[de("New Property Subscription")]),_:1})]),_:1}),o(le,null,{default:d(()=>[o(k(ht),{class:"q-pa-md",style:{height:"100%"},onSubmit:s[15]||(s[15]=me(()=>{},["prevent"])),ref_key:"propertySubscriptionForm",ref:S},{default:d(()=>[f("div",Za,[f("div",en,[o(ne,{style:n,label:"Property Name",type:"text",modelValue:p.propertyName,"onUpdate:modelValue":s[0]||(s[0]=c=>p.propertyName=c),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>m.$validateField(p,"propertyName")]},null,8,["modelValue","rules"]),o(ne,{style:n,label:"Property Unit",type:"text",modelValue:p.propertyUnit,"onUpdate:modelValue":s[1]||(s[1]=c=>p.propertyUnit=c),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>m.$validateField(p,"propertyUnit")]},null,8,["modelValue","rules"]),o(ne,{style:n,label:"Expected Monthly Cost",type:"text",modelValue:p.expectedMonthlyCost,"onUpdate:modelValue":s[2]||(s[2]=c=>p.expectedMonthlyCost=c),filled:"",outlined:"",color:"secondary","label-color":"dark"},{default:d(()=>[o(Ft,null,{default:d(()=>[de("Expected Monthly Cost")]),_:1})]),_:1},8,["modelValue"]),o(ne,{style:n,label:"Old Code",type:"text",modelValue:p.oldCode,"onUpdate:modelValue":s[3]||(s[3]=c=>p.oldCode=c),filled:"",outlined:"",color:"secondary","label-color":"dark"},null,8,["modelValue"])]),f("div",tn,[f("div",{class:"row",style:l},[o(k(ye),{style:{width:"70%"},label:"Street",filled:"",outlined:"",modelValue:p.streetId,"onUpdate:modelValue":s[6]||(s[6]=c=>p.streetId=c),color:"secondary","label-color":"dark",options:_.value,rules:[()=>m.$validateField(p,"streetId")],clearable:"","emit-value":"","map-options":""},{append:d(()=>[o(k(F),{round:"",flat:"",dense:"",icon:"add",onClick:s[4]||(s[4]=me(c=>B("addStreet"),["prevent","stop"]))})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[o(k(F),{flat:"",dense:"",label:"Add Street",onClick:s[5]||(s[5]=c=>B("addStreet"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"]),o(ne,{style:{width:"30%"},label:"Number",type:"text",modelValue:p.streetNumber,"onUpdate:modelValue":s[7]||(s[7]=c=>p.streetNumber=c),filled:"",outlined:"",color:"secondary","label-color":"dark"},{default:d(()=>[o(Ft,null,{default:d(()=>[de("Street Number")]),_:1})]),_:1},8,["modelValue"])]),f("div",{style:l},[o(k(ye),{style:{width:"100%"},label:"Property Type",filled:"",outlined:"",modelValue:p.propertyTypeId,"onUpdate:modelValue":s[10]||(s[10]=c=>p.propertyTypeId=c),color:"secondary","label-color":"dark",options:y.value,clearable:"",rules:[()=>m.$validateField(p,"propertyTypeId")],"emit-value":"","map-options":""},{append:d(()=>[o(k(F),{round:"",dense:"",flat:"",icon:"add",onClick:s[8]||(s[8]=me(c=>B("addPropertyType"),["prevent","stop"]))})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[o(k(F),{dense:"",flat:"",label:"Add Property Type",onClick:s[9]||(s[9]=c=>B("addPropertyType"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),f("div",{style:l},[o(k(ye),{style:{width:"100%"},label:"Custodian",filled:"",outlined:"",modelValue:p.propertySubscriberProfileId,"onUpdate:modelValue":s[13]||(s[13]=c=>p.propertySubscriberProfileId=c),color:"secondary","label-color":"dark",clearable:"",options:L.value,rules:[()=>m.$validateField(p,"propertySubscriberProfileId")],"emit-value":"","map-options":""},{append:d(()=>[o(k(F),{round:"",dense:"",flat:"",icon:"add",onClick:s[11]||(s[11]=me(c=>B("addSubscriber"),["prevent","stop"]))})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[o(k(F),{dense:"",flat:"",label:"Add Subscriber",onClick:s[12]||(s[12]=c=>B("addSubscriber"))})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),f("div",ln,[o(Nt,{label:"Is Owner",modelValue:p.isOwner,"onUpdate:modelValue":s[14]||(s[14]=c=>p.isOwner=c),color:"primary"},null,8,["modelValue"])])])]),f("div",an,[o(k(F),{style:{width:"40%"},label:"Submit",rounded:"",color:"primary",type:"submit",onClick:me(b,["prevent"])})])]),_:1},512)]),_:1})],64))}});var on=we({name:"QToggle",props:{...na,icon:String,iconColor:String},emits:oa,setup(e){function t(r,a){const l=w(()=>(r.value===!0?e.checkedIcon:a.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),n=w(()=>r.value===!0?e.iconColor:null);return()=>[D("div",{class:"q-toggle__track"}),D("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},l.value!==void 0?[D(Oe,{name:l.value,color:n.value})]:void 0)]}return ra("toggle",t)}}),rn=Object.defineProperty,sn=Object.getOwnPropertyDescriptor,qt=(e,t,r,a)=>{for(var l=a>1?void 0:a?sn(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&rn(t,r,l),l};class Pt extends He{streetId;propertySuscriptionId;month;year;type;forAllProperties;forPropertiesOnStreet}qt([_t()],Pt.prototype,"streetId",2);qt([K({message:"Please, select the property subscsription"})],Pt.prototype,"propertySuscriptionId",2);qt([K({message:"Please, select the month"})],Pt.prototype,"month",2);qt([K({message:"Please, select the year"})],Pt.prototype,"year",2);async function un(e){const t=await Tl.post(tt.BILLING,e);if(t.status===201)return t.data;throw new Error("Attempt to generate billing failed",{cause:t.data})}async function dn(e){const t=await Tl.get(tt.BILLING,{params:e});if(t.status===200)return t.data;throw new Error("Could not fetch billings")}class cn{static async handGenerateBilling(t,{onSuccess:r,onError:a}={}){t.on(W.GENERATE_BILLING,async l=>{try{await un(l),r==null||r(),Ot.create({message:"Process was successful",color:"positive"})}catch(n){a==null||a(),Ot.create({message:n.message,color:"negative",icon:"warning",timeout:5e3})}})}static async getBilling(t){try{return await dn(t)}catch(r){Ot.create({message:r.message,color:"negative",icon:"warning",timeout:5e3})}}}class pt{static async getBillingAccountArrears(t){try{const r=t.limit,a=t.page;return await It(tt.BILLING_ACCOUNT_ARREARS,"get",{params:{limit:r,page:a,month:t.month}})}catch{Fe({type:"negative"})}}static async handleViewBillingDetails(t,{onSuccess:r,onError:a}={}){t.on(W.VIEW_BILLING_DETAILS,async({streetId:l,billingMonth:n})=>{try{const i=await It(tt.BILLING_ACCOUNT_DETAILS.replace(":streetId",l),"get",{params:{billingMonth:n}});r==null||r(i)}catch(i){a==null||a(i),Fe({type:"negative"})}})}static async handleGetDefaulters(t,{onSuccess:r,onError:a}={}){t.on(W.GET_DEFAULTERS,async({streetId:l})=>{try{const n=await It(tt.BILLING_ACCOUNT_DEFAULTER.replace(":streetId",l),"get");r==null||r(n)}catch(n){a==null||a(n),Fe({type:"negative"})}})}static async getBillingsForPrinting(t,r){const a=await It(tt.BILLING_ACCOUNT_DETAILS.replace(":streetId",t),"get",{params:{billingMonth:r}});return xa().updateBilling({type:"billingDetail",data:a}),a}}const vn={class:"row justify-between q-my-lg"},fn={class:"q-gutter-xl",style:{width:"40%"}},mn={class:"q-gutter-xl",style:{width:"50%"}},pn={class:"row justify-between q-mt-md",style:{height:"7rem"}},bn={class:"column"},gn={class:"column justify-end",style:{height:"100%"}},yn=Y({__name:"GenerateBill",setup(e){Y({name:"generate-bill"});const t=_l(),r=Vt[new Date().getMonth()+1],a=Ae("eventBus"),l=Ne(),n=zl();let i;cn.handGenerateBilling(a,{onSuccess:x,onError:B});const v=P("generate"),{streets:u}=gl(t),S=P(),T=P(),I=w(()=>v.value==="print"?"Print Bill":"Generate Bill"),A=w(()=>ha),p=w(()=>Object.values(Vt).map(m=>m)),L=w(()=>v.value==="print"?"Print":"Generate"),y=w(()=>{var m;return(m=u==null?void 0:u.value)==null?void 0:m.map(s=>({label:s.name,value:s.id}))}),_=w(()=>{var m;return(m=S.value)==null?void 0:m.map(s=>({label:s.propertySubscriptionName,value:s.propertySubscriptionId}))}),b=Qe(new Pt);async function M(){if(l.loading.show({message:"Please, wait ..."}),b.type==="print"){await pt.getBillingsForPrinting(b.streetId,b.month),n.push("/print");return}else a.emit(W.GENERATE_BILLING,b);i=setTimeout(()=>{l.loading.show()},st)}function x(){b.clearValues(),ae({loader:l.loading,timer:i})}function B(){ae({loader:l.loading,timer:i})}return se(v,m=>{m&&(b.type=m)}),se(()=>b.forAllProperties,m=>{m&&(b.forPropertiesOnStreet=!1)}),se(()=>b.streetId,async m=>{if(console.log("this is the new val from watch on streetId",m),m){b.propertySuscriptionId="";const s=await ue.getSubscriptions({streetId:m});S.value=s==null?void 0:s.data}}),_e(()=>{b.month=r,b.year=String(new Date().getFullYear()),b.type=v.value}),_e(async()=>{u!=null&&u.value||await t.fetchServerData({type:"street"})}),_e(async()=>{const m=await ue.getSubscriptions();S.value=m==null?void 0:m.data}),pe(()=>{ae({loader:l.loading,timer:i})}),(m,s)=>(R(),z(re,null,[o(le,{class:"row justify-between"},{default:d(()=>[f("div",{style:Ce({color:`${m.$getColor("primary")}`})},[o(ze,{"header-text-size":"h5"},{default:d(()=>[de(rt(I.value),1)]),_:1})],4),f("div",null,[f("span",{class:ll([v.value==="print"?"text-primary":""])},"Print Bill",2),o(on,{"toggle-indeterminate":!1,"toggle-order":"tf","true-value":"generate","false-value":"print",modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=c=>v.value=c),"keep-color":""},null,8,["modelValue"]),f("span",{class:ll([v.value!=="print"?"text-primary":""])},"Generate Bill",2)])]),_:1}),o(le,null,{default:d(()=>[f("form",{class:"q-pa-md",style:{height:"100%"},onSubmit:s[7]||(s[7]=me(()=>{},["prevent"])),ref_key:"billingModelForm",ref:T},[f("div",vn,[f("div",fn,[o(ye,{label:"Street",modelValue:b.streetId,"onUpdate:modelValue":s[1]||(s[1]=c=>b.streetId=c),filled:"",outlined:"",color:"secondary","label-color":"dark",options:y.value,"emit-value":"","map-options":""},null,8,["modelValue","options"]),o(ye,{modelValue:b.month,"onUpdate:modelValue":s[2]||(s[2]=c=>b.month=c),label:"Month",type:"text",filled:"",outlined:"",color:"secondary","label-color":"dark",options:p.value},null,8,["modelValue","options"])]),f("div",mn,[o(ye,{modelValue:b.propertySuscriptionId,"onUpdate:modelValue":s[3]||(s[3]=c=>b.propertySuscriptionId=c),label:"Property Subscription Id",type:"text",filled:"",outlined:"",color:"secondary","label-color":"dark",options:_.value,"emit-value":"","map-options":""},null,8,["modelValue","options"]),o(ye,{modelValue:b.year,"onUpdate:modelValue":s[4]||(s[4]=c=>b.year=c),label:"Year",type:"text",filled:"",outlined:"",options:A.value,color:"secondary","label-color":"dark","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),f("div",pn,[f("div",bn,[o(Nt,{label:`${L.value} for properties on street.`,modelValue:b.forPropertiesOnStreet,"onUpdate:modelValue":s[5]||(s[5]=c=>b.forPropertiesOnStreet=c),disable:b.forAllProperties},null,8,["label","modelValue","disable"]),o(Nt,{label:`${L.value} all bills.`,modelValue:b.forAllProperties,"onUpdate:modelValue":s[6]||(s[6]=c=>b.forAllProperties=c)},null,8,["label","modelValue"])]),f("div",gn,[o(F,{rounded:"",color:"primary",onClick:M},{default:d(()=>[de(rt(v.value==="print"?"Print":"Generate"),1)]),_:1})])])],544)]),_:1})],64))}});var hn=Object.defineProperty,_n=Object.getOwnPropertyDescriptor,Ye=(e,t,r,a)=>{for(var l=a>1?void 0:a?_n(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&hn(t,r,l),l};class Me extends He{id;firstName;lastName;email;oldCode;phone;phoneCodeId;password}Ye([K({message:"First name is required"}),St(2,{message:"First name must be at least 2 characters"}),wt(50,{message:"First name must be less than 50 characters"})],Me.prototype,"firstName",2);Ye([K({message:"Last name is required"})],Me.prototype,"lastName",2);Ye([K({message:"Email is required"}),$a({},{message:"Email is invalid"})],Me.prototype,"email",2);Ye([_t()],Me.prototype,"oldCode",2);Ye([K({message:"Phone number is required"})],Me.prototype,"phone",2);Ye([K({message:"Phone code is required"})],Me.prototype,"phoneCodeId",2);Ye([_t()],Me.prototype,"password",2);const Tt=Y({__name:"ModalPopupClose",setup(e){return Y({name:"modal-popup-close"}),(t,r)=>at((R(),H(F,{round:"",dense:"",icon:"close"},null,512)),[[_a]])}}),wn={class:"row justify-between q-py-sm"},Sn={class:"row justify-between"},Pn={class:"q-gutter-xl"},Tn={class:"q-gutter-xl"},Cn={class:"flex row"},In={class:"flex row justify-center"},An=Y({__name:"AddSubscriber",setup(e){var p,L;Y({name:"add-subscriber"});const t=Ae("eventBus"),r=Ne(),a=P(),l=P();(p=a.value)==null||p.focus(),(L=l.value)==null||L.focus();const n=P([]),i=P();ue.handlePostSubscriberUser(t,{onSuccess:I,onError:A});let v;const u=Qe(new Me);it(async()=>{await u.validate()});const S=w(()=>{var y;return(y=n.value)==null?void 0:y.map(_=>({label:_.name,value:_.id}))});function T(){var y;if(!ut(u)){(y=i.value)==null||y.validate();return}t.emit(W.POST_SUBSCRIBER,u),r.loading.show({message:"Submitting ..."}),v=setTimeout(()=>{r.loading.hide()},st)}function I(){u.clearValues(),ae({loader:r.loading,timer:v})}function A(){ae({loader:r.loading,timer:v})}return _e(async()=>{var y,_;console.log((y=l.value)==null?void 0:y.focus),(_=a.value)==null||_.focus(),n.value=await ue.getPhoneCodes()}),pe(()=>{ae({loader:r.loading,timer:v}),t.off(W.POST_SUBSCRIBER)}),(y,_)=>(R(),z(re,null,[o(le,{class:"q-px-md"},{default:d(()=>[f("div",wn,[o(ze,null,{default:d(()=>[de(" Add Subscriber ")]),_:1}),f("div",null,[o(Tt)])])]),_:1}),o(le,{class:"q-px-md"},{default:d(()=>[o(k(ht),{onSubmit:_[6]||(_[6]=me(()=>{},["prevent"])),ref_key:"subscriberForm",ref:i},{default:d(()=>[f("div",Sn,[f("div",Pn,[o(k(ne),{label:"First Name",filled:"",outlined:"",modelValue:u.firstName,"onUpdate:modelValue":_[0]||(_[0]=b=>u.firstName=b),"lazy-rules":"",rules:[()=>y.$validateField(u,"firstName")],ref_key:"inputRef",ref:l},null,8,["modelValue","rules"]),o(k(ne),{label:"Email",filled:"",outlined:"",modelValue:u.email,"onUpdate:modelValue":_[1]||(_[1]=b=>u.email=b),"lazy-rules":"",rules:[()=>y.$validateField(u,"email")]},null,8,["modelValue","rules"]),o(k(ne),{label:"Old Code",filled:"",outlined:"",modelValue:u.oldCode,"onUpdate:modelValue":_[2]||(_[2]=b=>u.oldCode=b),"lazy-rules":"",rules:[()=>y.$validateField(u,"oldCode")]},null,8,["modelValue","rules"])]),f("div",Tn,[o(k(ne),{label:"Last Name",filled:"",outlined:"",modelValue:u.lastName,"onUpdate:modelValue":_[3]||(_[3]=b=>u.lastName=b),"lazy-rules":"",rules:[()=>y.$validateField(u,"lastName")]},null,8,["modelValue","rules"]),f("div",Cn,[o(ye,{label:"Country Phone Code",filled:"",outlined:"","label-color":"dark",modelValue:u.phoneCodeId,"onUpdate:modelValue":_[4]||(_[4]=b=>u.phoneCodeId=b),options:S.value,"emit-value":"","map-options":"",clearable:""},null,8,["modelValue","options"]),o(k(ne),{label:"Phone",filled:"",outlined:"",modelValue:u.phone,"onUpdate:modelValue":_[5]||(_[5]=b=>u.phone=b),"lazy-rules":"",rules:[()=>y.$validateField(u,"phone")]},null,8,["modelValue","rules"])])])]),f("div",In,[o(F,{style:{width:"40%"},label:"Submit",rounded:"",color:"primary",type:"submit",onClick:T})])]),_:1},512)]),_:1})],64))}});var xn=Object.defineProperty,$n=Object.getOwnPropertyDescriptor,Yt=(e,t,r,a)=>{for(var l=a>1?void 0:a?$n(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&xn(t,r,l),l};class Lt extends He{id;name;lgaId;lgaWardId}Yt([K({message:"Street name is required"}),St(2,{message:"Street name cannot be less than 2 characters"}),wt(50,{message:"Street name cannot be more than 255 characters"})],Lt.prototype,"name",2);Yt([K({message:"Select an Lga"})],Lt.prototype,"lgaId",2);Yt([K({message:"Select an Lga ward"})],Lt.prototype,"lgaWardId",2);const Vn={class:"flex row justify-between"},qn={class:"q-gutter-xl"},Ln={class:"flex row justify-center q-mt-lg"},kn=Y({__name:"AddStreet",emits:["addLga","addLgaWard"],setup(e){Y({name:"add-street"});const t=P([]),r=P([]),a=Ae("eventBus"),l=Ne(),n=P(),i=P(!1);let v;const u=Qe(new Lt);ot.handlePostStreet(a,{onSuccess:A,onError:p});const S=w(()=>t.value.map(y=>({label:y.name,value:y.id}))),T=w(()=>r.value.map(y=>({label:y.name,value:y.id})));it(async()=>{await u.validate()});function I(){var y;if(!i.value){if(!ut(u)){(y=n.value)==null||y.validate();return}i.value=!0,l.loading.show({message:"Submitting ..."}),a.emit(W.POST_STREET,u),v=setTimeout(()=>{l.loading.hide()},st)}}function A(){u.clearValues(),ae({loader:l.loading,timer:v})}function p(){ae({loader:l.loading,timer:v})}function L(y){a.emit(y)}return se(()=>u.lgaId,async y=>{r.value=await ot.getLgaWards({lgaId:y})}),_e(async()=>{t.value=await ot.getLgas()}),pe(()=>{ae({loader:l.loading,timer:v})}),pe(()=>{a.off(W.POST_STREET)}),(y,_)=>(R(),z(re,null,[o(le,null,{default:d(()=>[f("div",Vn,[o(ze,null,{default:d(()=>[de("Add Street")]),_:1}),o(Tt)])]),_:1}),o(le,null,{default:d(()=>[o(k(ht),{class:"q-px-lg",onSubmit:_[7]||(_[7]=me(()=>{},["prevent"])),ref_key:"addStreetForm",ref:n},{default:d(()=>[f("div",qn,[o(ne,{label:"Street Name",type:"text",modelValue:u.name,"onUpdate:modelValue":_[0]||(_[0]=b=>u.name=b),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>y.$validateField(u,"name")]},null,8,["modelValue","rules"]),o(ye,{label:"Lga",filled:"",outlined:"",color:"secondary","label-color":"dark",options:S.value,rules:[()=>y.$validateField(u,"lgaId")],modelValue:u.lgaId,"onUpdate:modelValue":_[3]||(_[3]=b=>u.lgaId=b),"emit-value":"","map-options":"",clearable:""},{append:d(()=>[o(F,{round:"",flat:"",dense:"",icon:"add",onClick:_[1]||(_[1]=me(b=>L(k(W).TRIGGER_REMOTE_MODAL_LGA),["prevent","stop"]))})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[o(F,{label:"Add LGA",dense:"",flat:"",onClick:_[2]||(_[2]=b=>L(k(W).TRIGGER_REMOTE_MODAL_LGA))})]),_:1})]),_:1})]),_:1},8,["options","rules","modelValue"]),o(ye,{label:"LGA Ward",filled:"",outlined:"",color:"secondary","label-color":"dark",options:T.value,rules:[()=>y.$validateField(u,"lgaWardId")],modelValue:u.lgaWardId,"onUpdate:modelValue":_[6]||(_[6]=b=>u.lgaWardId=b),"emit-value":"","map-options":"",clearable:""},{append:d(()=>[o(F,{round:"",flat:"",dense:"",icon:"add",onClick:_[4]||(_[4]=me(b=>L(k(W).TRIGGER_REMOTE_MODAL_LGA_WARD),["prevent","stop"]))})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[o(F,{label:"Add LGA Ward",flat:"",dense:"",onClick:_[5]||(_[5]=b=>L(k(W).TRIGGER_REMOTE_MODAL_LGA_WARD))})]),_:1})]),_:1})]),_:1},8,["options","rules","modelValue"])]),f("div",Ln,[o(F,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:I})])]),_:1},512)]),_:1})],64))}});var Bn=Object.defineProperty,En=Object.getOwnPropertyDescriptor,Il=(e,t,r,a)=>{for(var l=a>1?void 0:a?En(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&Bn(t,r,l),l};class Kt extends He{id;name;unitPrice}Il([K({message:"Property type name is required"}),St(2),wt(50)],Kt.prototype,"name",2);Il([K({message:"Property type unit price is required"}),wa({},{message:"Please, type in numeric value."})],Kt.prototype,"unitPrice",2);const Rn={class:"flex row justify-between"},Dn={class:"q-gutter-md"},On={class:"flex row justify-center"},Nn=Y({__name:"AddPropertyType",setup(e){const t=P(),r=Ae("eventBus"),a=Ne();let l;const n=Qe(new Kt);it(async()=>{await n.validate()});function i(){var S;ut(n)||(S=t.value)==null||S.validate(),a.loading.show({message:"Submitting ..."}),r.emit(W.POST_PROPERTY_TYPE,n),l=setTimeout(()=>{a.loading.hide()},2e3)}function v(){n.clearValues(),ae({loader:a.loading,timer:l})}function u(){ae({loader:a.loading,timer:l})}return _e(()=>{ue.handlePostPropertyType(r,{onSuccess:v,onError:u})}),pe(()=>{r.off(W.POST_PROPERTY_TYPE)}),(S,T)=>(R(),z(re,null,[o(le,null,{default:d(()=>[f("div",Rn,[o(ze,null,{default:d(()=>[de("Add Property Type")]),_:1}),o(Tt)])]),_:1}),o(le,null,{default:d(()=>[o(k(ht),{class:"q-px-",onSubmit:T[2]||(T[2]=me(()=>{},["prevent"]))},{default:d(()=>[f("div",Dn,[o(ne,{label:"Name",type:"text",modelValue:n.name,"onUpdate:modelValue":T[0]||(T[0]=I=>n.name=I),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>S.$validateField(n,"name")]},null,8,["modelValue","rules"]),o(ne,{label:"Unit Price",type:"number",modelValue:n.unitPrice,"onUpdate:modelValue":T[1]||(T[1]=I=>n.unitPrice=I),filled:"",outlined:"",color:"secondary","label-color":"dark",rules:[()=>S.$validateField(n,"unitPrice")]},null,8,["modelValue","rules"])]),f("div",On,[o(F,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:me(i,["prevent"])})])]),_:1})]),_:1})],64))}});var Mn=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,Gn=(e,t,r,a)=>{for(var l=a>1?void 0:a?Un(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&Mn(t,r,l),l};class Al extends He{id;name}Gn([K({message:"LGA name is required"}),St(2,{message:"LGA name must be at least 2 characters"}),wt(50,{message:"LGA name must be less than 50 characters"})],Al.prototype,"name",2);const Fn={class:"flex row justify-between"},jn={class:"flex row justify-center q-mt-lg"},Wn=Y({__name:"AddLga",setup(e){Y({name:"add-lga"});const t=Ae("eventBus"),r=Ne();let a;const l=Qe(new Al);ot.handlePostLga(t,{onSuccess:i,onError:v}),it(async()=>{l.validate()});function n(){!ut(l)||(r.loading.show({message:"Submitting ..."}),t.emit(W.POST_LGA,l),a=setTimeout(()=>{r.loading.hide()},st))}function i(){l.clearValues(),ae({loader:r.loading,timer:a})}function v(){ae({loader:r.loading,timer:a})}return pe(()=>{ae({loader:r.loading,timer:a})}),pe(()=>{t.off(W.POST_LGA)}),(u,S)=>(R(),z(re,null,[o(le,null,{default:d(()=>[f("div",Fn,[o(ze,null,{default:d(()=>[de("Add L.G.A.")]),_:1}),o(Tt)])]),_:1}),o(le,null,{default:d(()=>[f("form",null,[f("div",null,[o(ne,{label:"Name",filled:"",outlined:"","label-color":"dark",modelValue:l.name,"onUpdate:modelValue":S[0]||(S[0]=T=>l.name=T),rules:[()=>u.$validateField(l,"name")]},null,8,["modelValue","rules"])]),f("div",jn,[o(F,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:me(n,["prevent"])})])])]),_:1})],64))}});var Qn=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,xl=(e,t,r,a)=>{for(var l=a>1?void 0:a?Hn(t,r):t,n=e.length-1,i;n>=0;n--)(i=e[n])&&(l=(a?i(t,r,l):i(l))||l);return a&&l&&Qn(t,r,l),l};class Xt extends He{id;name;lgaId}xl([K({message:"LGA ward name is required"}),St(2,{message:"LGA ward name must be at least 2 characters"}),wt(50,{message:"LGA ward name must be less than 50 characters"})],Xt.prototype,"name",2);xl([K({message:"Select an LGA"})],Xt.prototype,"lgaId",2);const zn={class:"flex row justify-between"},Yn={class:"flex row justify-center q-mt-lg"},Kn=Y({__name:"AddLgaWard",setup(e){Y({name:"add-lga-ward"});const t=P([]),r=P(),a=Ae("eventBus"),l=Ne();let n;const i=Qe(new Xt);ot.handlePostLgaWard(a,{onSuccess:S,onError:T}),it(async()=>{console.log("this is the lgaWardId: ",i.lgaId),i.validate()});const v=w(()=>t.value.map(I=>({label:I.name,value:I.id})));function u(){if(!ut(i)){i.validate();return}l.loading.show({message:"Submitting ..."}),a.emit(W.POST_LGA_WARD,i),n=setTimeout(()=>{l.loading.hide()},st)}function S(){i.clearValues(),ae({loader:l.loading,timer:n})}function T(){ae({loader:l.loading,timer:n})}return _e(async()=>{t.value=await ot.getLgas()}),pe(()=>{ae({loader:l.loading,timer:n})}),(I,A)=>(R(),z(re,null,[o(le,null,{default:d(()=>[f("div",zn,[o(ze,null,{default:d(()=>[de("Add L.G.A. Ward")]),_:1}),o(Tt)])]),_:1}),o(le,null,{default:d(()=>[o(k(ht),{ref_key:"lgaWardForm",ref:r},{default:d(()=>[f("div",null,[o(ne,{label:"Name",filled:"",outlined:"","label-color":"dark",modelValue:i.name,"onUpdate:modelValue":A[0]||(A[0]=p=>i.name=p),rules:[()=>I.$validateField(i,"name")]},null,8,["modelValue","rules"]),o(ye,{label:"Select L.G.A.",filled:"",outlined:"","label-color":"dark",modelValue:i.lgaId,"onUpdate:modelValue":A[1]||(A[1]=p=>i.lgaId=p),options:v.value,rules:[()=>I.$validateField(i,"lgaId")],"emit-value":"","map-options":"",clearable:""},{append:d(()=>[o(F,{flat:"",round:"",dense:"",icon:"add"})]),"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,null,{default:d(()=>[o(F,{label:"Create L.G.A.",flat:"",dense:""})]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),f("div",Yn,[o(F,{style:{width:"40%"},label:"submit",type:"submit",color:"primary",rounded:"",onClick:me(u,["prevent"])})])]),_:1},512)]),_:1})],64))}});var ve=(e=>(e.PROPERTIES="Properties",e.BILLINGS="Billings",e))(ve||{}),De=(e=>(e[e.ADD_SUBSCRIBER=0]="ADD_SUBSCRIBER",e[e.ADD_STREET=1]="ADD_STREET",e[e.ADD_PROPERTY_TYPE=2]="ADD_PROPERTY_TYPE",e))(De||{}),Ze=(e=>(e[e.ADD_LGA=0]="ADD_LGA",e[e.ADD_LGA_WARD=1]="ADD_LGA_WARD",e))(Ze||{});const Xn=["top","right","bottom","left"],$l={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Xn.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Vl(e,t){return{formClass:w(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:w(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:w(()=>{if(e.externalLabel===!0){const r=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(r===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const ql={start:"self-end",center:"self-center",end:"self-start"},Jn=Object.keys(ql);var Zn=we({name:"QFabAction",props:{...$l,icon:{type:String,default:""},anchor:{type:String,validator:e=>Jn.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:r}){const a=Ae(yl,()=>({showing:{value:!0},onChildClick:ml})),{formClass:l,labelProps:n}=Vl(e,a.showing),i=w(()=>{const I=ql[e.anchor];return l.value+(I!==void 0?` ${I}`:"")}),v=w(()=>e.disable===!0||a.showing.value!==!0);function u(I){a.onChildClick(I),r("click",I)}function S(){const I=[];return t.icon!==void 0?I.push(t.icon()):e.icon!==""&&I.push(D(Oe,{name:e.icon})),(e.label!==""||t.label!==void 0)&&I[n.value.action](D("div",n.value.data,t.label!==void 0?t.label():[e.label])),Qt(t.default,I)}const T=qe();return Object.assign(T.proxy,{click:u}),()=>D(F,{class:i.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:v.value,onClick:u},S)}});const eo=["up","right","down","left"],to=["left","center","right"];var lo=we({name:"QFab",props:{...$l,...wl,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>eo.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>to.includes(e)}},emits:Sl,setup(e,{slots:t}){const r=P(null),a=P(e.modelValue===!0),l=hl(),{proxy:{$q:n}}=qe(),{formClass:i,labelProps:v}=Vl(e,a),u=w(()=>e.persistent!==!0),{hide:S,toggle:T}=Pl({showing:a,hideOnRouteChange:u}),I=w(()=>({opened:a.value})),A=w(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${i.value}`+(a.value===!0?" q-fab--opened":" q-fab--closed")),p=w(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${a.value===!0?"opened":"closed"}`),L=w(()=>{const M={id:l,role:"menu"};return a.value!==!0&&(M["aria-hidden"]="true"),M}),y=w(()=>`q-fab__icon-holder  q-fab__icon-holder--${a.value===!0?"opened":"closed"}`);function _(M,x){const B=t[M],m=`q-fab__${M} absolute-full`;return B===void 0?D(Oe,{class:m,name:e[x]||n.iconSet.fab[x]}):D("div",{class:m},B(I.value))}function b(){const M=[];return e.hideIcon!==!0&&M.push(D("div",{class:y.value},[_("icon","icon"),_("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&M[v.value.action](D("div",v.value.data,t.label!==void 0?t.label(I.value):[e.label])),Qt(t.tooltip,M)}return fl(yl,{showing:a,onChildClick(M){S(M),r.value!==null&&r.value.$el.focus()}}),()=>D("div",{class:A.value},[D(F,{ref:r,class:i.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l,onClick:T},b),D("div",{class:p.value,...L.value},Ve(t.default))])}});const Wt=Y({__name:"AdvanceTableMenu",props:{menuItems:{default:()=>[]},padding:{default:"xs"}},emits:["menuItemClickHandler"],setup(e){return Y({name:"advance-table-menu"}),(t,r)=>(R(),H(lo,{color:"transparent","text-color":"black",icon:"keyboard_arrow_left",direction:"left",padding:"xs",margin:"xs"},{default:d(()=>[(R(!0),z(re,null,Ge(t.menuItems,a=>(R(),H(Zn,{key:a.label,icon:a.icon,color:a.color,"text-color":a.textColor,padding:"xs",onClick:l=>t.$emit("menuItemClickHandler",a)},{default:d(()=>[o(Ft,null,{default:d(()=>[de(rt(a.label),1)]),_:2},1024)]),_:2},1032,["icon","color","text-color","onClick"]))),128))]),_:1}))}});function yt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const r=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const a=e.valueOf();if(Object(a)!==a){const l=new e.constructor(a);return t.set(e,l),l}}return t.set(e,r),e instanceof Set?e.forEach(a=>{r.add(yt(a,t))}):e instanceof Map&&e.forEach((a,l)=>{r.set(l,yt(a,t))}),Object.assign(r,...Object.keys(e).map(a=>({[a]:yt(e[a],t)})))}var ao=we({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:r}){const{proxy:a}=qe(),{$q:l}=a,n=P(null),i=P(""),v=P("");let u=!1;const S=w(()=>Yl({initialValue:i.value,validate:e.validate,set:T,cancel:I,updatePosition:A},"value",()=>v.value,B=>{v.value=B}));function T(){e.validate(v.value)!==!1&&(p()===!0&&(r("save",v.value,i.value),r("update:modelValue",v.value)),L())}function I(){p()===!0&&r("cancel",v.value,i.value),L()}function A(){bl(()=>{n.value.updatePosition()})}function p(){return vl(v.value,i.value)===!1}function L(){u=!0,n.value.hide()}function y(){u=!1,i.value=yt(e.modelValue),v.value=yt(e.modelValue),r("beforeShow")}function _(){r("show")}function b(){u===!1&&p()===!0&&(e.autoSave===!0&&e.validate(v.value)===!0?(r("save",v.value,i.value),r("update:modelValue",v.value)):r("cancel",v.value,i.value)),r("beforeHide")}function M(){r("hide")}function x(){const B=t.default!==void 0?[].concat(t.default(S.value)):[];return e.title&&B.unshift(D("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&B.push(D("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[D(F,{flat:!0,color:e.color,label:e.labelCancel||l.lang.label.cancel,onClick:I}),D(F,{flat:!0,color:e.color,label:e.labelSet||l.lang.label.set,onClick:T})])),B}return Object.assign(a,{set:T,cancel:I,show(B){n.value!==null&&n.value.show(B)},hide(B){n.value!==null&&n.value.hide(B)},updatePosition:A}),()=>{if(e.disable!==!0)return D(Sa,{ref:n,class:"q-popup-edit",cover:e.cover,onBeforeShow:y,onShow:_,onBeforeHide:b,onHide:M,onEscapeKey:I},x)}}});const vt=Y({__name:"BorderedCard",props:{bgColor:{default:"secondary"},borderColor:{default:"primary"},borderStyle:{default:"solid"},borderWidth:{default:"0.1rem"},height:{default:"100%"}},setup(e){return Y({name:"bordered-card"}),(t,r)=>(R(),H(Gt,{style:Ce({borderColor:`${t.$getColor(t.borderColor)}`,borderStyle:`${t.borderStyle}`,borderWidth:`${t.borderWidth}`,backgroundColor:`${t.$getColor(t.bgColor)}`,height:t.height})},{default:d(()=>[o(le,null,{default:d(()=>[Kl(t.$slots,"default")]),_:3})]),_:3},8,["style"]))}});const no={class:"flex row justify-between q-mb-sm",style:{width:"100%",height:"12rem"}},oo={style:{width:"49.5%"}},ro=f("div",{class:"text-center text-bolder text-h6"},[f("span",null,"Property")],-1),io={class:"q-my-lg"},so=f("span",null,"Id",-1),uo={class:"q-my-lg"},co=f("span",null,"Name",-1),vo={style:{width:"49.5%"}},fo=f("div",{class:"text-center text-bolder text-h6"},[f("span",null,"Transaction")],-1),mo=f("span",null,"Arrears",-1),po=f("span",null,"Last Payment",-1),bo=f("span",null,"Date of Payment",-1),go={style:{width:"100%",height:"8rem"}},yo=f("div",null,[f("p",null,[f("span",null,"Street")])],-1),ho={class:"flex row justify-evenly"},_o=f("span",null,"Number",-1),wo=f("span",null,"Name",-1),So={style:{width:"100%",height:"8rem"}},Po=f("div",null,[f("p",null,[f("span",null,"Custodian")])],-1),To={class:"flex row justify-evenly q-mt-md"},Co=f("span",null,"Name",-1),Io=f("span",null,"Email",-1),Ao=f("span",null,"Phone",-1),xo={style:{width:"100%",height:"auto"}},$o={class:"flex row text-bolder text-h6 flex items-center"},Vo=f("div",{class:"flex row justify-end",style:{width:"50%"}},[f("span",null,"Billing Details")],-1),qo={class:"flex row justify-end q-gutter-sm q-mb-sm",style:{width:"50%"}},Lo={key:0},ko={key:1},Bo={key:2},Eo=f("div",null,null,-1),Ro=Y({__name:"ViewPropertyDetails",props:{dialogWidth:{default:30},propertySubscriptionId:{}},setup(e){const t=e;Y({name:"view-property-details",components:{DialogCard:gt}});const r=[{label:"Remove Row",icon:"remove",textColor:"black"}],a=[{field:"propertyTypeId",label:"Property Type Id",name:"propertyTypeId"},{field:"propertyType",label:"Property Type",name:"propertyType"},{field:"propertyUnit",label:"Property Units",name:"propertyUnit"},{field:"unitPrice",label:"Unit Price",name:"unitPrice"}],l=["propertyType","propertyUnit","unitPrice"],n=P([{propertyTypeId:"1",propertyType:"House",propertyUnit:"5",unitPrice:"N5000"}]),i=P([]),v=P(!1),u=P({}),S=P(-1),T=P(!1),I=w(()=>i.value.map(s=>({label:`${s.name} - ${s.unitPrice}`,value:s.id}))),A=w(()=>{if(u.value.billingAccount){const s=Number(k(u.value).billingAccount.totalBillings)-Number(k(u.value).billingAccount.totalPayments);return"N"+s}else return"N0"}),p=w(()=>{const s=u.value.payments;if(s&&s.length>0){const c=k(u.value).payments.sort((C,O)=>O.createdAt.getTime()-C.createdAt.getTime())[0];return console.log("This is the last payment --> ",c),{createdAt:c.createdAt.toDateString(),amount:c.amount}}else return{createdAt:"--/--/--",amount:"N0"}}),L=w(()=>{var C;let s={email:"",name:"",phone:""};const c=u.value.entitySubscriberProfile;return c&&(s={email:c.email,name:c.firstName+c.lastName,phone:(((C=c.phoneCode)==null?void 0:C.name)||"")+s.phone||""}),s}),y=w(()=>u.value.streetNumber?{num:k(u.value).streetNumber,name:k(u.value).street.name}:{});function _(s,c){console.log("the updated value is: -->",s);const C=i.value.find(O=>O.id===s.value);c.value=(C==null?void 0:C.name)||"",n.value[S.value].propertyTypeId=(C==null?void 0:C.id)||"",n.value[S.value].unitPrice=String((C==null?void 0:C.unitPrice)||"")}async function b(){i.value=await ue.getPropertyTypes()}async function M(){T.value=!0;try{await ue.savePropertyUnits({propertySubscriptionId:u.value.id,propertySubscriptionUnits:n.value}),Fe({type:"positive"})}catch{Fe({type:"negative"})}T.value=!1,v.value=!1}function x(){n.value.push({propertyTypeId:"",propertyType:"",propertyUnit:"",unitPrice:""})}function B(s){n.value.splice(s,1)}function m(s){S.value=s}return se(u,s=>{s&&(n.value=u.value.propertySubscriptionUnits.map(c=>({propertyTypeId:c.entitySubscriberProperty.propertyType.id,propertyType:c.entitySubscriberProperty.propertyType.name,propertyUnit:c.propertyUnits,unitPrice:c.entitySubscriberProperty.propertyType.unitPrice})))}),_e(async()=>{u.value=await ue.getPropertySubscriptionDetails(t.propertySubscriptionId),console.log("Here is sub details: -->",k(u.value))}),(s,c)=>(R(),H(gt,{height:"auto",width:`${s.dialogWidth}rem`},{default:d(()=>[o(le,{class:"q-pa-lg flex column q-gutter-sm moderate-modal-font"},{default:d(()=>[f("div",no,[f("div",oo,[o(vt,null,{default:d(()=>[ro,f("div",null,[f("p",io,[so,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:u.value.id,rounded:""},null,8,["label"])]),f("p",uo,[co,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:u.value.propertySubscriptionName,rounded:""},null,8,["label"])])])]),_:1})]),f("div",vo,[o(vt,null,{default:d(()=>[fo,f("div",null,[f("p",null,[mo,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:A.value,rounded:""},null,8,["label"])]),f("p",null,[po,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:p.value.amount,rounded:""},null,8,["label"])]),f("p",null,[bo,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:p.value.createdAt,rounded:""},null,8,["label"])])])]),_:1})])]),f("div",go,[o(vt,null,{default:d(()=>[yo,f("div",ho,[f("p",null,[_o,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:y.value.num,rounded:""},null,8,["label"])]),f("p",null,[wo,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:y.value.name,rounded:""},null,8,["label"])])])]),_:1})]),f("div",So,[o(vt,null,{default:d(()=>[Po,f("div",To,[f("p",null,[Co,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:L.value.name,rounded:""},null,8,["label"])]),f("p",null,[Io,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:L.value.email,rounded:""},null,8,["label"])]),f("p",null,[Ao,o(fe,{class:"q-ml-sm q-pa-sm q-px-sm",label:L.value.phone,rounded:""},null,8,["label"])])])]),_:1})]),f("div",xo,[o(vt,null,{default:d(()=>[f("div",$o,[Vo,f("div",qo,[v.value?Ie("",!0):(R(),z("span",Lo,[o(F,{icon:"edit",round:"",onClick:c[0]||(c[0]=C=>v.value=!0)})])),v.value?(R(),z("span",ko,[o(F,{icon:"add",round:"",onClick:x})])):Ie("",!0),v.value?(R(),z("span",Bo,[o(F,{icon:"save",round:"",onClick:M})])):Ie("",!0)])]),f("div",null,[o(ft,{bordered:"",column:a,rows:n.value,"visible-columns":l,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${s.$getColor("secondary")}`},loading:T.value,"sort-method":C=>C,onRowClick:c[2]||(c[2]=C=>console.log("row with the following data was clicked: ",C))},{header:d(C=>[o(lt,{props:C},{default:d(()=>[(R(!0),z(re,null,Ge(C.cols,O=>(R(),H(Pa,{key:O.name,props:C,style:{textAlign:"left"}},{default:d(()=>[de(rt(O.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:d(C=>[o(lt,{props:C,onMouseenter:O=>m(C.rowIndex)},{default:d(()=>[(R(!0),z(re,null,Ge(C.cols,(O,be)=>(R(),H(mt,{key:O.name,class:"text-left",style:{postion:"relative"}},{default:d(()=>[O.name==="propertyType"?(R(),z(re,{key:0},[de(rt(C.row[O.name])+" ",1),o(ao,{modelValue:C.row[O.name],"onUpdate:modelValue":Q=>C.row[O.name]=Q,title:"Edit the Property Type","auto-save":""},{default:d(Q=>[o(ye,{filled:"","model-value":Q.value,options:I.value,"use-input":"","input-debounce":"0",style:{width:"250px"},disable:!v.value,onKeyup:Xl(Q.set,["enter"]),onPopupShow:b,"onUpdate:modelValue":ce=>_(ce,Q)},{"no-option":d(()=>[o(je,null,{default:d(()=>[o(We,{class:"text-grey"},{default:d(()=>[de(" No results ")]),_:1})]),_:1})]),_:2},1032,["model-value","options","disable","onKeyup","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):(R(),z(re,{key:1},[o(ne,{modelValue:C.row[O.name],"onUpdate:modelValue":Q=>C.row[O.name]=Q,type:"text",dense:"",borderless:"",disable:!v.value},null,8,["modelValue","onUpdate:modelValue","disable"]),be===C.cols.length-1?at((R(),z("span",{key:0,style:Ce({position:"absolute",top:S.value===C.rowIndex?"0.5rem":"0",right:S.value===C.rowIndex?"0.5rem":"0",zIndex:S.value===C.rowIndex?"1":"0"})},[o(Wt,{"menu-items":r,onMenuItemClickHandler:c[1]||(c[1]=()=>B(S.value))})],4)),[[xt,S.value===C.rowIndex]]):Ie("",!0)],64))]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style","loading","sort-method"])]),Eo]),_:1})])]),_:1})]),_:1},8,["width"]))}});const Do={class:"row justify-between items-center"},Oo={class:"q-mt-xl"},No={class:"q-mt-lg",style:{height:"70vh"}},Mo={class:"q-mb-lg",style:{width:"20rem"}},At=80,nr=Y({__name:"PropertyBillingPage",setup(e){const t=Ne(),r=Aa("light-page")||"#ffffff",a=Ae("eventBus"),l=[{label:"View Details",icon:"visibility",textColor:"black"},{label:"Get Defaulters",icon:"paid",textColor:"black"}],n=[{label:"View Details",icon:"visibility",textColor:"black"},{label:"View Payments",icon:"paid",textColor:"black"}];ue.handlePaginateSubscription(a,{onSuccess:Xe,onError:Se});const i=Vt[new Date().getMonth()+1],v=[{field:"propertySubscriptionId",label:"Property Subscription Id",name:"propertySubscriptionId",align:"left"},{field:"propertyName",label:"Property Name",name:"propertyName",align:"left"},{field:"oldCode",label:"Old Code",name:"oldCode",align:"left"},{field:"streetNumber",label:"Street Number",name:"streetNumber",align:"left"},{field:"streetName",label:"Street Name",name:"streetName",align:"left"},{field:"arrears",label:"Arrears",name:"arrears",align:"left"}],u=[{field:"streetId",name:"streetId",label:"streetId",align:"center"},{field:"streetName",label:"Street Name",name:"streetName",align:"center"},{field:"arrears",label:"Arrears",name:"arrears",align:"center"},{field:"totalBilling",label:"Total Billing",name:"totalBilling",align:"center"},{field:"actions",label:"Actions",name:"actions",align:"center"}],S=[{field:"streetName",label:"Street Name",name:"streetName",align:"center"},{field:"propertyName",label:"Property Name",name:"propertyName",align:"center"},{field:"currentBilling",label:"Current Billing",name:"currentBilling",align:"center"},{field:"arrears",label:"Arrears",name:"arrears",align:"center"}],T=[...S,{field:"totalBilling",label:"Total Billing",name:"totalBilling",align:"center"},{field:"lastPayment",label:"Last Payment",name:"lastPayment",align:"center"}],I=["streetName","arrears","totalBilling"],A=S.map($=>$.field),p=[...A,"totalBilling","lastPayment"],L={billing:"billing",billingDetails:"billingDetails",billingDefaulters:"defaulters"};pt.handleViewBillingDetails(a,{onSuccess:he}),pt.handleGetDefaulters(a,{onSuccess:ge});const y=P(ve.PROPERTIES),_=P(!1),b=P(i),M=P(!1),x=P(!1),B=P(De.ADD_SUBSCRIBER),m=P(Ze.ADD_LGA),s=P(),c=P(-1);let C=P([]);const O=P("billing"),be=P([]),Q=P({page:1,rowsPerPage:3,rowsNumber:10}),ce=P(!0),E=P(""),U=P(!1);let ee=P();const oe=w(()=>Object.values(Vt).map($=>$)),Ue=w(()=>({[ve.PROPERTIES]:"Add New Property",[ve.BILLINGS]:"Generate / Print Billing"})[y.value]),ke=w(()=>{var $;return($=s.value)==null?void 0:$.map(h=>({propertySubscriptionId:h.propertySubscriptionId,propertyName:h.propertySubscriptionName,oldCode:h.oldCode,streetNumber:h.streetNumber,streetName:h.streetName,arrears:h.arrears}))}),Ke=w(()=>{var $;return($=C.value)==null?void 0:$.map(h=>({streetName:h.streetName,arrears:h.arrears,streetId:h.streetId,totalBilling:h.totalBilling}))});function Xe($){Fe({type:"positive"}),s.value=$==null?void 0:$.data,Q.value=$==null?void 0:$.pagination}function Se(){Fe({type:"negative",message:"Could not load more data!"})}async function Pe($){ce.value=!0;const h=await ue.getSubscriptionByPages($);s.value=h==null?void 0:h.data,Q.value=h==null?void 0:h.pagination,ce.value=!1}async function te($,h){h==="View Details"?(ee.value=$,U.value=!0):alert("This feature is under development.")}function Be($,h){h&&(console.log("payload",h),$==="View Details"?a.emit(W.VIEW_BILLING_DETAILS,{streetId:h,billingMonth:b.value}):$==="Get Defaulters"&&a.emit(W.GET_DEFAULTERS,{streetId:h}))}function he($){O.value=L.billingDetails,be.value=$}function ge($){O.value=L.billingDefaulters,be.value=$}function Te($){c.value=$}function kt(){_.value=!_.value}function dt($){M.value=!0,B.value=$}return a.on(W.TRIGGER_REMOTE_MODAL_LGA,()=>{m.value=Ze.ADD_LGA,x.value=!0}),a.on(W.TRIGGER_REMOTE_MODAL_LGA_WARD,()=>{m.value=Ze.ADD_LGA_WARD,x.value=!0}),se(E,async $=>{if($){ce.value=!0;const h=await ue.getSubscriptionByPages({pagination:Q.value,filter:E.value});s.value=h==null?void 0:h.data,Q.value=h==null?void 0:h.pagination,ce.value=!1}}),Jl(async()=>{y.value===ve.PROPERTIES&&(C.value=await pt.getBillingAccountArrears({page:1,limit:5}))}),se(b,async()=>{y.value===ve.BILLINGS&&(C.value=await pt.getBillingAccountArrears({page:1,limit:5,month:b.value}))}),Zl(()=>{t.loading.show({message:"Please, wait ..."})}),_e(()=>{t.loading.hide()}),_e(async()=>{const $=await ue.getSubscriptions();s.value=$==null?void 0:$.data,Q.value=$==null?void 0:$.pagination,ce.value=!1}),pe(async()=>{a.off(W.VIEW_BILLING_DETAILS),a.off(W.GET_DEFAULTERS),a.off(W.PAGINATE_SUBSCRIPTION_TABLE)}),($,h)=>(R(),H(Ia,null,{default:d(()=>[f("div",{style:Ce({backgroundColor:k(r),height:"100vh",padding:"0 1rem",width:"100%"})},[f("div",Do,[f("div",Oo,[o(Ra,{modelValue:y.value,"onUpdate:modelValue":h[0]||(h[0]=q=>y.value=q),dense:"","active-color":"dark","active-bg-color":"secondary"},{default:d(()=>[o(sl,{name:k(ve).PROPERTIES,icon:"house",label:k(ve).PROPERTIES,style:{width:"15rem"}},null,8,["name","label"]),o(sl,{name:k(ve).BILLINGS,icon:"receipt",label:k(ve).BILLINGS,style:{width:"15rem"}},null,8,["name","label"])]),_:1},8,["modelValue"])]),f("div",null,[o(F,{color:"primary",rounded:"",onClick:kt},{default:d(()=>[de(rt(Ue.value),1)]),_:1})])]),f("div",No,[o(Fa,{modelValue:y.value,"onUpdate:modelValue":h[9]||(h[9]=q=>y.value=q),style:{"background-color":"inherit",height:"100%"}},{default:d(()=>[o(dl,{name:k(ve).PROPERTIES},{default:d(()=>[f("div",null,[o(Gt,{rounded:"",class:"bg-accent"},{default:d(()=>[o(le,null,{default:d(()=>[o(ft,{class:"header-sticky",rows:ke.value,bordered:"",columns:v,"table-header-style":{backgroundColor:`${$.$getColor("secondary")}`},onRequest:Pe,pagination:Q.value,"onUpdate:pagination":h[3]||(h[3]=q=>Q.value=q),loading:ce.value,filter:E.value},{"top-right":d(()=>[o(ne,{borderless:"",dense:"",debounce:"300",modelValue:E.value,"onUpdate:modelValue":h[1]||(h[1]=q=>E.value=q),placeholder:"Search"},{append:d(()=>[o(Oe,{name:"search"})]),_:1},8,["modelValue"])]),body:d(q=>[o(lt,{props:q,onMouseenter:X=>Te(q.rowIndex),onMouseleave:h[2]||(h[2]=X=>Te(-1))},{default:d(()=>[(R(!0),z(re,null,Ge(q.cols,(X,Ee)=>(R(),H(mt,{key:X.name},{default:d(()=>[o(fe,{label:X.value,class:"text-bold",style:Ce({backgroundColor:"transparent",color:`${$.$getColor("dark")}`})},null,8,["label","style"]),Ee===q.cols.length-1?at((R(),z("span",{key:0,style:Ce({position:"absolute",top:c.value===q.rowIndex?"0.5rem":"0",right:c.value===q.rowIndex?"0.5rem":"0",zIndex:c.value===q.rowIndex?"1":"0"})},[o(Wt,{"menu-items":n,onMenuItemClickHandler:Je=>te(q.row.propertySubscriptionId,Je.label)},null,8,["onMenuItemClickHandler"])],4)),[[xt,c.value===q.rowIndex]]):Ie("",!0)]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style","pagination","loading","filter"])]),_:1})]),_:1})])]),_:1},8,["name"]),o(dl,{name:k(ve).BILLINGS},{default:d(()=>[f("div",Mo,[o(ye,{style:{width:"100%"},modelValue:b.value,"onUpdate:modelValue":h[4]||(h[4]=q=>b.value=q),label:"Month",filled:"",outlined:"","label-color":"dark",options:oe.value,clearable:"","map-options":"","emit-value":""},null,8,["modelValue","options"])]),f("div",null,[o(Gt,{rounded:"",class:"bg-accent"},{default:d(()=>[at(o(le,null,{default:d(()=>[o(F,{icon:"arrow_back",flat:"",onClick:h[5]||(h[5]=q=>O.value=L.billing)})]),_:1},512),[[xt,O.value!==L.billing]]),o(le,null,{default:d(()=>[O.value===L.billing?(R(),H(ft,{key:0,bordered:"",columns:u,rows:Ke.value,"visible-columns":I,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${$.$getColor("secondary")}`}},{body:d(q=>[o(lt,{props:q,onMouseenter:X=>Te(q.rowIndex),onMouseleave:h[6]||(h[6]=X=>Te(-1))},{default:d(()=>[(R(!0),z(re,null,Ge(q.cols,(X,Ee)=>(R(),H(mt,{key:X.name,class:"text-center",style:{postion:"relative"}},{default:d(()=>[o(fe,{label:X.value,class:"text-bold",style:Ce({backgroundColor:"transparent",color:`${$.$getColor("dark")}`})},null,8,["label","style"]),Ee===q.cols.length-1?at((R(),z("span",{key:0,style:Ce({position:"absolute",top:c.value===q.rowIndex?"0.5rem":"0",right:c.value===q.rowIndex?"0.5rem":"0",zIndex:c.value===q.rowIndex?"1":"0"})},[o(Wt,{"menu-items":l,onMenuItemClickHandler:Je=>Be(Je.label,q.row.streetId)},null,8,["onMenuItemClickHandler"])],4)),[[xt,c.value===q.rowIndex]]):Ie("",!0)]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style"])):O.value===L.billingDefaulters?(R(),H(ft,{key:1,bordered:"",columns:S,rows:be.value,"visible-columns":k(A),"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${$.$getColor("secondary")}`},title:"Billings Payment Defaulters"},{body:d(q=>[o(lt,{props:q,onMouseenter:X=>Te(q.rowIndex),onMouseleave:h[7]||(h[7]=X=>Te(-1))},{default:d(()=>[(R(!0),z(re,null,Ge(q.cols,X=>(R(),H(mt,{key:X.name,class:"text-center",style:{postion:"relative"}},{default:d(()=>[o(fe,{label:X.value,class:"text-bold",style:Ce({backgroundColor:"transparent",color:`${$.$getColor("dark")}`})},null,8,["label","style"])]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","visible-columns","table-header-style"])):O.value===L.billingDetails?(R(),H(ft,{key:2,bordered:"",columns:T,rows:be.value,"visible-columns":p,"table-header-class":"text-bolder","table-header-style":{backgroundColor:`${$.$getColor("secondary")}`},title:"Billing Details"},{body:d(q=>[o(lt,{props:q,onMouseenter:X=>Te(q.rowIndex),onMouseleave:h[8]||(h[8]=X=>Te(-1))},{default:d(()=>[(R(!0),z(re,null,Ge(q.cols,X=>(R(),H(mt,{key:X.name,class:"text-center",style:{postion:"relative"}},{default:d(()=>[o(fe,{label:X.value,class:"text-bold",style:Ce({backgroundColor:"transparent",color:`${$.$getColor("dark")}`})},null,8,["label","style"])]),_:2},1024))),128))]),_:2},1032,["props","onMouseenter"])]),_:1},8,["rows","table-header-style"])):Ie("",!0)]),_:1})]),_:1})])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),o(Ct,{modelValue:_.value,"onUpdate:modelValue":h[13]||(h[13]=q=>_.value=q)},{default:d(()=>[o(gt,{height:"auto",width:`${At}rem`},{default:d(()=>[y.value===k(ve).PROPERTIES?(R(),H(nn,{key:0,onAddSubscriber:h[10]||(h[10]=q=>dt(k(De).ADD_SUBSCRIBER)),onAddStreet:h[11]||(h[11]=q=>dt(k(De).ADD_STREET)),onAddPropertyType:h[12]||(h[12]=q=>dt(k(De).ADD_PROPERTY_TYPE))})):y.value===k(ve).BILLINGS?(R(),H(yn,{key:1})):Ie("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),o(Ct,{modelValue:M.value,"onUpdate:modelValue":h[14]||(h[14]=q=>M.value=q),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[o(gt,{height:"auto",width:`${At-30}rem`},{default:d(()=>[B.value===k(De).ADD_SUBSCRIBER?(R(),H(An,{key:0})):B.value===k(De).ADD_STREET?(R(),H(kn,{key:1})):B.value===k(De).ADD_PROPERTY_TYPE?(R(),H(Nn,{key:2})):Ie("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),o(Ct,{modelValue:x.value,"onUpdate:modelValue":h[15]||(h[15]=q=>x.value=q),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[o(gt,{height:"auto",width:`${At}rem`},{default:d(()=>[m.value===k(Ze).ADD_LGA?(R(),H(Wn,{key:0})):m.value===k(Ze).ADD_LGA_WARD?(R(),H(Kn,{key:1})):Ie("",!0)]),_:1},8,["width"])]),_:1},8,["modelValue"]),o(Ct,{modelValue:U.value,"onUpdate:modelValue":h[16]||(h[16]=q=>U.value=q)},{default:d(()=>[o(Ro,{dialogWidth:At,"property-subscription-id":k(ee)},null,8,["property-subscription-id"])]),_:1},8,["modelValue"])],4)]),_:1}))}});export{nr as default};
